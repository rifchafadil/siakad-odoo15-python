)]}'
{"version": 3, "sources": ["/web/static/tests/legacy/helpers/test_utils_file.js", "/mail/static/tests/tours/discuss_public_tour.js", "/mail/static/tests/tours/mail_channel_as_guest_tour.js", "/mail/static/tests/tours/mail_full_composer_test_tour.js", "/portal/static/tests/tours/portal.js", "/account/static/tests/tours/account_dashboard_setup_bar_tests.js", "/account/static/tests/tours/tax_group_tests.js", "/crm/static/tests/tours/crm_email_and_phone_propagation.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/website/static/tests/tours/automatic_editor.js", "/website/static/tests/tours/carousel_content_removal.js", "/website/static/tests/tours/conditional_visibility.js", "/website/static/tests/tours/configurator_translation.js", "/website/static/tests/tours/dashboard_tour.js", "/website/static/tests/tours/default_shape_gets_palette_colors.js", "/website/static/tests/tours/edit_link_popover.js", "/website/static/tests/tours/edit_megamenu.js", "/website/static/tests/tours/edit_menus.js", "/website/static/tests/tours/edit_translated_page.js", "/website/static/tests/tours/focus_blur_snippets.js", "/website/static/tests/tours/html_editor.js", "/website/static/tests/tours/link_tools.js", "/website/static/tests/tours/media_dialog.js", "/website/static/tests/tours/public_user_editor.js", "/website/static/tests/tours/reset_password.js", "/website/static/tests/tours/restricted_editor.js", "/website/static/tests/tours/rte.js", "/website/static/tests/tours/snippet_background_edition.js", "/website/static/tests/tours/snippet_countdown.js", "/website/static/tests/tours/snippet_empty_parent_autoremove.js", "/website/static/tests/tours/snippet_popup_add_remove.js", "/website/static/tests/tours/snippet_version.js", "/website/static/tests/tours/snippets_all_drag_and_drop.js", "/website/static/tests/tours/specific_website_editor.js", "/website/static/tests/tours/website_form_editor.js", "/website/static/tests/tours/website_navbar_menu.js", "/website/static/tests/tours/website_page_options.js", "/website/static/tests/tours/website_snippets_menu_tabs.js", "/website/static/tests/tours/website_style_edition.js", "/website_crm/static/tests/tours/website_crm.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js"], "mappings": "AAAA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9JA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvHA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/FA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9DA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvNA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChIA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjFA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjPA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxHA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1NA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1WA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9mBA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzDA;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpTA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA", "sourcesContent": ["odoo.define('web.test_utils_file', function () {\n\"use strict\";\n\n/**\n * FILE Test Utils\n *\n * This module defines various utility functions to help simulate events with\n * files, such as drag-and-drop.\n *\n * Note that all methods defined in this module are exported in the main\n * testUtils file.\n */\n\n\n//------------------------------------------------------------------------------\n// Private functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a fake object 'dataTransfer', linked to some files, which is passed to\n * drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction _createFakeDataTransfer(files) {\n    return {\n        dropEffect: 'all',\n        effectAllowed: 'all',\n        files,\n        getData: function () {\n            return files;\n        },\n        items: [],\n        types: ['Files'],\n    };\n}\n\n//------------------------------------------------------------------------------\n// Public functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a file object, which can be used for drag-and-drop.\n *\n * @param {Object} data\n * @param {string} data.name\n * @param {string} data.content\n * @param {string} data.contentType\n * @returns {Promise<Object>} resolved with file created\n */\nfunction createFile(data) {\n    // Note: this is only supported by Chrome, and does not work in Incognito mode\n    return new Promise(function (resolve, reject) {\n        var requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        if (!requestFileSystem) {\n            throw new Error('FileSystem API is not supported');\n        }\n        requestFileSystem(window.TEMPORARY, 1024 * 1024, function (fileSystem) {\n            fileSystem.root.getFile(data.name, { create: true }, function (fileEntry) {\n                fileEntry.createWriter(function (fileWriter) {\n                    fileWriter.onwriteend = function (e) {\n                        fileSystem.root.getFile(data.name, {}, function (fileEntry) {\n                            fileEntry.file(function (file) {\n                                resolve(file);\n                            });\n                        });\n                    };\n                    fileWriter.write(new Blob([ data.content ], { type: data.contentType }));\n                });\n            });\n        });\n    });\n}\n\n/**\n * Drag a file over a DOM element\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dragoverFile($el, file) {\n    var ev = new Event('dragover', { bubbles: true });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(file),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop a file on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dropFile($el, file) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer([file]),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop some files on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object[]} files must have been created beforehand (@see createFile)\n */\nfunction dropFiles($el, files) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(files),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Set files in a file input\n *\n * @param {DOM.Element} el\n * @param {Object[]} files must have been created beforehand\n *   @see testUtils.file.createFile\n */\nfunction inputFiles(el, files) {\n    // could not use _createFakeDataTransfer as el.files assignation will only\n    // work with a real FileList object.\n    const dataTransfer = new window.DataTransfer();\n    for (const file of files) {\n        dataTransfer.items.add(file);\n    }\n    el.files = dataTransfer.files;\n    /**\n     * Changing files programatically is not supposed to trigger the event but\n     * it does in Chrome versions before 73 (which is on runbot), so in that\n     * case there is no need to make a manual dispatch, because it would lead to\n     * the files being added twice.\n     */\n    const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n    if (!chromeVersion || chromeVersion >= 73) {\n        el.dispatchEvent(new Event('change'));\n    }\n}\n\n//------------------------------------------------------------------------------\n// Exposed API\n//------------------------------------------------------------------------------\n\nreturn {\n    createFile: createFile,\n    dragoverFile: dragoverFile,\n    dropFile: dropFile,\n    dropFiles,\n    inputFiles,\n};\n\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\ntour.register('mail/static/tests/tours/discuss_public_tour.js', {\n    test: true,\n}, [{\n    trigger: '.o_DiscussPublicView',\n    extraTrigger: '.o_ThreadView',\n}, {\n    content: \"Check that we are on channel page\",\n    trigger: '.o_ThreadView',\n    run() {\n        if (!window.location.pathname.startsWith('/discuss/channel')) {\n            console.error('Did not automatically redirect to channel page');\n        }\n        // Wait for modules to be loaded or failed for the next step\n        odoo.__DEBUG__.didLogInfo.then(() => {\n            const { missing, failed, unloaded } = odoo.__DEBUG__.jsModules;\n            if ([missing, failed, unloaded].some(arr => arr.length)) {\n                console.error(\"Couldn't load all JS modules.\", JSON.stringify({ missing, failed, unloaded }));\n            }\n            document.body.classList.add('o_mail_channel_public_modules_loaded');\n        });\n    },\n    extraTrigger: '.o_mail_channel_public_modules_loaded',\n}, {\n    content: \"Wait for all modules loaded check in previous step\",\n    trigger: '.o_mail_channel_public_modules_loaded',\n}]);\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\ntour.register('mail/static/tests/tours/mail_channel_as_guest_tour.js', {\n    test: true,\n}, [{\n    content: \"Click join\",\n    trigger: '.o_WelcomeView_joinButton',\n    extraTrigger: '.o_ThreadView',\n}, {\n    content: \"Check that we are on channel page\",\n    trigger: '.o_ThreadView',\n    run() {\n        if (!window.location.pathname.startsWith('/discuss/channel')) {\n            console.error('Clicking on join button did not redirect to channel page');\n        }\n        // Wait for modules to be loaded or failed for the next step\n        odoo.__DEBUG__.didLogInfo.then(() => {\n            const { missing, failed, unloaded } = odoo.__DEBUG__.jsModules;\n            if ([missing, failed, unloaded].some(arr => arr.length)) {\n                console.error(\"Couldn't load all JS modules.\", JSON.stringify({ missing, failed, unloaded }));\n            }\n            document.body.classList.add('o_mail_channel_as_guest_tour_modules_loaded');\n        });\n    },\n    extraTrigger: '.o_mail_channel_as_guest_tour_modules_loaded',\n}, {\n    content: \"Wait for all modules loaded check in previous step\",\n    trigger: '.o_mail_channel_as_guest_tour_modules_loaded',\n}]);\n", "/** @odoo-module **/\n\nimport {\n    createFile,\n    inputFiles,\n} from 'web.test_utils_file';\n\nimport tour from 'web_tour.tour';\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_full_composer.py\n */\ntour.register('mail/static/tests/tours/mail_full_composer_test_tour.js', {\n    test: true,\n}, [{\n    content: \"Click on Send Message\",\n    trigger: '.o_ChatterTopbar_buttonSendMessage',\n}, {\n    content: \"Write something in composer\",\n    trigger: '.o_ComposerTextInput_textarea',\n    run: 'text blahblah',\n}, {\n    content: \"Add one file in composer\",\n    trigger: '.o_Composer_buttonAttachment',\n    async run() {\n        const file = await createFile({\n            content: 'hello, world',\n            contentType: 'text/plain',\n            name: 'text.txt',\n        });\n        inputFiles(\n            document.querySelector('.o_FileUploader_input'),\n            [file]\n        );\n    },\n}, {\n    content: \"Open full composer\",\n    trigger: '.o_Composer_buttonFullComposer',\n    extra_trigger: '.o_AttachmentCard:not(.o-isUploading)' // waiting the attachment to be uploaded\n}, {\n    content: \"Check the earlier provided attachment is listed\",\n    trigger: '.o_AttachmentCard[title=\"text.txt\"]',\n    run() {},\n}, {\n    content: \"Check subject is autofilled\",\n    trigger: 'input[name=\"subject\"]',\n    run() {\n        const subjectValue = document.querySelector('input[name=\"subject\"]').value;\n        if (subjectValue !== \"Re: Test User\") {\n            console.error(\n                `Full composer should have \"Re: Test User\" in subject input (actual: ${subjectValue})`\n            );\n        }\n    },\n}, {\n    content: \"Check composer content is kept\",\n    trigger: '.oe_form_field[name=\"body\"]',\n    run() {\n        const bodyContent = document.querySelector('.oe_form_field[name=\"body\"]').textContent;\n        if (!bodyContent.includes(\"blahblah\")) {\n            console.error(\n                `Full composer should contain text from small composer (\"blahblah\") in body input (actual: ${bodyContent})`\n            );\n        }\n    },\n}, {\n    content: \"Open templates\",\n    trigger: '.o_field_widget[name=\"template_id\"] input',\n}, {\n    content: \"Check a template is listed\",\n    in_modal: false,\n    trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Test template\")',\n    run() {},\n}, {\n    content: \"Send message\",\n    trigger: '.o_mail_send',\n}, {\n    content: \"Check message is shown\",\n    trigger: '.o_Message:contains(\"blahblah\")',\n}, {\n    content: \"Check message contains the attachment\",\n    trigger: '.o_Message .o_AttachmentCard_filename:contains(\"text.txt\")',\n}]);\n", "odoo.define('portal.tour', function (require) {\n'use strict';\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register('portal_load_homepage', {\n    test: true,\n    url: '/my',\n},\n    [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]'\n        }\n    ]\n);\n\n});\n", "odoo.define('account.dashboard.setup.tour', function (require) {\n    \"use strict\";\n\n    var core = require('web.core');\n    var tour = require('web_tour.tour');\n\n    var _t = core._t;\n\n    tour.register('account_render_report', {\n        test: true,\n        url: '/web',\n    }, [tour.stepUtils.showAppsMenuItem(),\n    {\n        id: 'account_menu_click',\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n        position: 'bottom',\n    }, {\n        trigger: '.o_data_row:first',\n        extra_trigger: '.breadcrumb',\n    }, {\n        trigger: '.o_control_panel button:contains(\"' + _t('Print') + '\")',\n    }, {\n        trigger: '.o_control_panel .dropdown-menu a:contains(\"' + _t('Invoices without Payment') + '\")',\n    }, {\n        trigger: 'iframe .o_report_layout_standard h2',\n        content: 'Primary color is correct',\n        run: function () {\n            if (this.$anchor.css('color') !== \"rgb(18, 52, 86)\") {\n                console.error('The primary color should be the one set on the company.');\n            }\n        },\n    }, {\n        trigger: 'iframe .o_report_layout_standard #informations div strong',\n        content: 'Secondary color is correct',\n        run: function () {\n            if (this.$anchor.css('color') !== \"rgb(120, 145, 1)\") {\n                console.error('The secondary color should be the one set on the company.');\n            }\n        },\n    }\n        ]);\n});\n", "/** @odoo-module alias=account.tax.group.tour.tests */\n\"use strict\";\n\nimport tour from 'web_tour.tour';\n\ntour.register('account_tax_group', {\n    test: true,\n    url: \"/web\",\n}, [tour.stepUtils.showAppsMenuItem(),\n    {\n        content: \"Go to Invoicing\",\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n        edition: 'community',\n    },\n    {\n        content: \"Go to Accounting\",\n        trigger: '.o_app[data-menu-xmlid=\"account_accountant.menu_accounting\"]',\n        edition: 'enterprise',\n    },\n    {\n        content: \"Go to Vendors\",\n        trigger: 'a:contains(\"Vendors\")',\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'span:contains(\"Bills\")',\n    },\n    {\n        extra_trigger: '.breadcrumb:contains(\"Bills\")',\n        content: \"Create new bill\",\n        trigger: '.o_list_button_add',\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_many2one[name=\"partner_id\"] div input',\n        run: 'text Azure Interior',\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Azure Interior\")',\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view .o_selected_row .o_list_many2one:first input',\n    },\n    {\n        content: \"Type item\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view .o_selected_row .o_list_many2one:first input',\n        run: \"text Large Desk\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Large Desk\")',\n    },\n    // Save account.move\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    // Edit account.move\n    {\n        content: \"Edit the account move\",\n        trigger: '.o_form_button_edit',\n    },\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: function (actions) {\n            $('.o_tax_group_edit_input input').val(200);\n            $('.o_tax_group_edit_input input').select();\n            $('.o_tax_group_edit_input input').blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"1,499.00\")',\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"]',\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"] input',\n        run: 'text 2',\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_list_view tbody tr.o_data_row .o_list_number[title=\"1.00\"] input',\n        run: function (actions) {\n            let keydownEvent = jQuery.Event('keydown');\n            keydownEvent.which = 13;\n            this.$anchor.trigger(keydownEvent);\n        },\n    },\n    // Save form\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"389.70\")',\n    },\n]);\n", "odoo.define('crm.crm_email_and_phone_propagation', function (require) {\n    'use strict';\n\n    const tour = require('web_tour.tour');\n\n    tour.register('crm_email_and_phone_propagation_edit_save', {\n        test: true,\n        url: '/web',\n    }, [\n        tour.stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n        }, {\n            trigger: '.o_kanban_record .o_kanban_record_title span:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_button_edit',\n            extra_trigger: '.o_lead_opportunity_form.o_form_readonly',\n            content: 'Edit the lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_button_save',\n            extra_trigger: '.o_form_editable input[name=\"email_from\"]',\n            content: 'Save the lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_readonly',\n        },\n    ]);\n\n    tour.register('crm_email_and_phone_propagation_remove_email_and_phone', {\n        test: true,\n        url: '/web',\n    }, [\n        tour.stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n        }, {\n            trigger: '.o_kanban_record .o_kanban_record_title span:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_button_edit',\n            content: 'Edit the lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_editable input[name=\"email_from\"]',\n            extra_trigger: '.o_form_editable input[name=\"phone\"]',\n            content: 'Remove the email and the phone',\n            run: function () {\n                $('input[name=\"email_from\"]').val('').trigger(\"change\");\n                $('input[name=\"phone\"]').val('').trigger(\"change\");\n            },\n        }, {\n            trigger: '.o_form_button_save',\n            // wait the the warning message to be visible\n            extra_trigger: '.o_form_sheet_bg .fa-exclamation-triangle:not(.o_invisible_modifier)',\n            content: 'Save the lead',\n            run: 'click',\n        }, {\n            trigger: '.o_form_readonly',\n        },\n    ]);\n\n});\n", "/** @odoo-module */\nimport tour from 'web_tour.tour';\nconst today = moment();\n\ntour.register('crm_forecast', {\n    test: true,\n    url: \"/web\",\n}, [\n    tour.stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading'\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \"input[name=name]\",\n        content: \"complete name\",\n        run: \"text Test Opportunity 1\",\n    }, {\n        trigger: \"div[name=expected_revenue] > input\",\n        content: \"complete expected revenue\",\n        run: \"text 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"complete expected closing\",\n        run: `text ${today.format(\"MM/DD/YYYY\")}`,\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: \"body:not(:has(div.bootstrap-datetimepicker-widget))\",\n        content: \"wait for date_picker to disappear\",\n        run: function () {},\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        run: function (actions) {\n            const undefined_groups = $('.o_column_title:contains(\"Undefined\")').length;\n            actions.drag_and_drop(` .o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`, this.$anchor);\n        }\n    }, {\n        trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: `span[name=date_deadline]:contains(\"${moment(today).add(2, 'months').startOf('month').subtract(1, 'days').format(\"MM/DD/YYYY\")}\")`,\n        content: \"edit datetime\",\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \"input[name=date_deadline]\",\n        content: \"complete expected closing\",\n        run: `text ${moment(today).add(5, 'months').startOf('month').subtract(1, 'days').format(\"MM/DD/YYYY\")}`\n    }, {\n        trigger: \"body:not(:has(div.bootstrap-datetimepicker-widget))\",\n        content: \"wait for date_picker to disappear\",\n        run: function () {},\n    }, {\n        trigger: \"input[name=probability]\",\n        content: \"max out probability\",\n        run: \"text 100\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        position: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n        run: function () {},\n    }\n]);\n", "/** @odoo-module **/\n\n    import tour from 'web_tour.tour';\n\n    tour.register('crm_rainbowman', {\n        test: true,\n        url: \"/web\",\n    }, [\n        tour.stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n        }, {\n            trigger: \"input[name=name]\",\n            content: \"complete name\",\n            run: \"text Test Lead 1\",\n        }, {\n            trigger: \"div[name=expected_revenue] > input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999997\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(3) \"\n        }, {\n            trigger: \".o_reward_rainbow\",\n            extra_trigger: \".o_reward_rainbow\",\n            run: function () {} // check rainbowman is properly displayed\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n        }, {\n            trigger: \"input[name=name]\",\n            content: \"complete name\",\n            run: \"text Test Lead 2\",\n        }, {\n            trigger: \"div[name=expected_revenue] > input\",\n            content: \"complete expected revenue\",\n            run: \"text 999999998\",\n        }, {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            run: function () {} // wait for the record to be properly created\n        }, {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \"\n        }, {\n            trigger: \".o_kanban_record .o_kanban_record_title:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n        }, {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n        }, {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"move lead to previous stage & rainbowman appears\",\n        }, {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n        }, {\n            trigger: \".o_menu_brand\",\n            extra_trigger: \".o_reward_rainbow\",\n            content: \"last rainbowman appears\",\n        }\n    ]);\n", "odoo.define('website.tour.automatic_editor', function (require) {\n'use strict';\n\nconst tour = require('web_tour.tour');\n\ntour.register('automatic_editor_on_new_website', {\n    test: true,\n    url: '/',\n},\n[\n    {\n        content: \"Select the language dropdown\",\n        trigger: '.js_language_selector .dropdown-toggle'\n    },\n    {\n        content: \"click on Add a language\",\n        trigger: 'a.o_add_language',\n    },\n    {\n        content: \"Select dropdown\",\n        trigger: 'select[name=lang]',\n        run: () => {\n            $('select[name=\"lang\"]').val('\"pa_GB\"').change();\n        }\n    },\n    {\n        content: \"load parseltongue\",\n        extra_trigger: '.modal select[name=\"lang\"]:propValueContains(pa_GB)',\n        trigger: '.modal-footer button:first',\n    },\n    {\n        content: \"Select the language dropdown\",\n        trigger: '.js_language_selector .dropdown-toggle',\n    },\n    {\n        content: \"Select parseltongue\",\n        trigger: 'a.js_change_lang[data-url_code=pa_GB]',\n    },\n    {\n        content: \"Check that we're on parseltongue and then go to settings\",\n        trigger: 'html[lang=pa-GB]',\n        run: () => {\n            // Now go through the settings for a new website. A frontend_lang\n            // cookie was set during previous steps. It should not be used when\n            // redirecting to the frontend in the following steps.\n            window.location.href = '/web#action=website.action_website_configuration';\n        }\n    },\n    {\n        content: \"create a new website\",\n        trigger: 'button[name=\"action_website_create_new\"]',\n    },\n    {\n        content: \"insert website name\",\n        trigger: 'input[name=\"name\"]',\n        run: 'text Website EN'\n    },\n    {\n        content: \"validate the website creation modal\",\n        trigger: 'button.btn-primary'\n    },\n    {\n        content: \"skip configurator\",\n        // This trigger targets the skip button, it doesn't have a more\n        // explicit class or ID.\n        trigger: '.o_configurator_container .container-fluid .btn.btn-link'\n    },\n    {\n        content: \"make hover button appear\",\n        trigger: '.o_theme_preview',\n        run: () => {\n            $('.o_theme_preview .o_button_area').attr('style', 'visibility: visible; opacity: 1;');\n        },\n    },\n    {\n        content: \"Install a theme\",\n        trigger: 'button[data-name=\"button_choose_theme\"]'\n    },\n    {\n        content: \"Check that the editor is loaded\",\n        trigger: 'body.editor_enable',\n        timeout: 30000,\n        run: () => null, // it's a check\n    },\n    {\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save\")',\n    },\n    {\n        content: \"wait for editor to close\",\n        trigger: 'body:not(.editor_enable)',\n        run: () => null, // It's a check\n    }\n]);\n});\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\n\ntour.register(\"carousel_content_removal\", {\n    test: true,\n    url: \"/\",\n}, [{\n    trigger: \"a[data-action=edit]\",\n    content: \"Click the Edit button.\",\n    extra_trigger: \".homepage\",\n}, {\n    trigger: \"#snippet_structure .oe_snippet:has(span:contains('Carousel')) .oe_snippet_thumbnail\",\n    content: \"Drag the Carousel block and drop it in your page.\",\n    run: \"drag_and_drop #wrap\",\n},\n{\n    trigger: \".carousel .carousel-item.active .carousel-content\",\n    content: \"Select the active carousel item.\",\n}, {\n    trigger: \".oe_overlay.oe_active .oe_snippet_remove\",\n    content: \"Remove the active carousel item.\",\n},\n{\n    trigger: \".carousel .carousel-item.active .container:not(:has(*))\",\n    content: \"Check for a carousel slide with an empty container tag\",\n    run: function () {},\n}]);\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n];\ntour.register('conditional_visibility_1', {\n    test: true,\n    url: '/',\n},\n[{\n    content: \"enter edit mode\",\n    trigger: 'a[data-action=edit]',\n},\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\nwTourUtils.changeOption('ConditionalVisibility', 'we-toggler'),\n{\n    content: 'click on conditional visibility',\n    trigger: '[data-name=\"visibility_conditional\"]',\n    run: 'click',\n},\n{\n    content: 'click on utm medium toggler',\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-toggler',\n    run: 'click',\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items [data-add-record=\"Email\"]',\n    content: 'click on Email',\n    run: 'click',\n},\n...wTourUtils.clickOnSave(),\n{\n    content: 'Check if the rule was applied',\n    trigger: 'body:not(.editor_enable) #wrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display !== 'none') {\n            console.error('error This item should be invisible and only visible if utm_medium === email');\n        }\n    },\n},\nwTourUtils.clickOnEdit(),\n{\n    content: 'Check if the element is visible as it should always be visible in edit view',\n    trigger: 'body.editor_enable #wrap .s_text_image',\n    run: function (actions) {\n        const style = window.getComputedStyle((this.$anchor[0]));\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]);\n\ntour.register('conditional_visibility_2', {\n    test: true,\n    url: '/?utm_medium=Email',\n},\n[{\n    content: 'The content previously hidden should now be visible',\n    trigger: 'body #wrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]);\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\n\ntour.register('configurator_translation', {\n    test: true,\n    url: '/website/configurator',\n},\n[\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: 'text ab',\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry ul li a:contains(in fr)',\n        extra_trigger: 'html[lang*=fr]',\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n    },\n    // Features screen\n    {\n        content: \"select confidentialit\u00e9\",\n        trigger: '.card:contains(confidentialit\u00e9)',\n    }, {\n        content: \"Click on build my website\",\n        trigger: 'button.btn-primary',\n    }, {\n        content: \"Loader should be shown\",\n        trigger: '.o_theme_install_loader_container',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Wait untill the configurator is finished\",\n        trigger: 'body.editor_started',\n        timeout: 30000,\n    }, {\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Sauver\")',\n    }, {\n         content: \"wait for editor to be closed\",\n         trigger: 'body:not(.editor_enable)',\n         run: function () {}, // It's a check.\n    }\n]);\n", "odoo.define(\"website.tour.backend_dashboard\", function (require) {\n  \"use strict\";\n\n  var tour = require(\"web_tour.tour\");\n\n  tour.register(\n    \"backend_dashboard\",\n    {\n      test: true,\n      url: \"/web\",\n    },\n    [\n      tour.stepUtils.showAppsMenuItem(),\n      {\n        trigger: '.o_app[data-menu-xmlid=\"website.menu_website_configuration\"]',\n      },\n      {\n        trigger: 'button[data-menu-xmlid=\"website.menu_dashboard\"]',\n      },\n      {\n        trigger: '.dropdown-item[data-menu-xmlid=\"website.menu_website_google_analytics\"]',\n      },\n      {\n        // Visits section should always be present even when empty / not hooked to anything\n        trigger: 'h2:contains(\"Visits\")',\n        content: \"Check if dashboard loads\",\n        run: function () {},\n      },\n    ]\n  );\n});\n", "odoo.define(\"website.tour.default_shape_gets_palette_colors\", function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\nconst wTourUtils = require('website.tour_utils');\n\ntour.register(\"default_shape_gets_palette_colors\", {\n    test: true,\n    url: \"/?enable_editor=1\",\n}, [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape does not have a background-image in its inline style\",\n        trigger: '#wrap .s_text_image .o_we_shape',\n        run: () => {\n            const shape = $('#wrap .s_text_image .o_we_shape')[0];\n            if (shape.style.backgroundImage) {\n                console.error(\"error The default shape has a background-image in its inline style (should rely on the class)\");\n            }\n        },\n    },\n]);\n});\n", "odoo.define(\"website.tour.edit_link_popover\", function (require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst wTourUtils = require('website.tour_utils');\n\nconst FIRST_PARAGRAPH = '#wrap .s_text_image p:nth-child(2)';\n\nconst clickFooter = [{\n    content: \"Save the link by clicking outside the URL input (not on a link element)\",\n    trigger: 'footer h5:first',\n}, {\n    content: \"Wait delayed click on footer\",\n    trigger: '.o_we_customize_panel we-title:contains(\"Footer\")',\n    run: function () {}, // it's a check\n}];\n\nconst clickEditLink = [{\n    content: \"Click on Edit Link in Popover\",\n    trigger: '.o_edit_menu_popover .o_we_edit_link',\n    // FIXME this run shouldnt be needed but click not working as real click\n    run: (actions) => {\n        actions.click();\n        $('.o_edit_menu_popover').popover('hide');\n    },\n}, {\n    content: \"Ensure popover is closed\",\n    trigger: 'html:not(:has(.o_edit_menu_popover))', // popover should be closed\n    run: function () {}, // it's a check\n    in_modal: false,\n}];\n\ntour.register('edit_link_popover', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [\n    // 1. Test links in page content (web_editor)\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on a paragraph\",\n        trigger: FIRST_PARAGRAPH,\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: \"#toolbar #create-link\",\n    },\n    {\n        content: \"Type the link URL /contactus\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text /contactus'\n    },\n    ...clickFooter,\n    {\n        content: \"Click on newly created link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n    },\n    {\n        content: \"Popover should be shown\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")', // At this point preview is loaded\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Type the link URL /\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"text /\"\n    },\n    ...clickFooter,\n    {\n        content: \"Click on link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n        // FIXME this run shouldnt be needed but click not working as real click\n        run: function (actions) {\n            actions.click();\n            this.$anchor.popover('show');\n        },\n    },\n    {\n        content: \"Popover should be shown with updated preview data\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Remove Link in Popover\",\n        trigger: '.o_edit_menu_popover .o_we_remove_link',\n    },\n    {\n        content: \"Link should be removed\",\n        trigger: `${FIRST_PARAGRAPH}:not(:has(a))`,\n        // run: function () {}, // it's a check\n        // FIXME this run shouldnt be needed but click not working as real click\n        run: (actions) => {\n            $('.o_edit_menu_popover').popover('hide');\n        },\n    },\n    {\n        content: \"Ensure popover is closed\",\n        trigger: 'html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        run: function () {}, // it's a check\n    },\n    // 2. Test links in navbar (website)\n    {\n        content: \"Click navbar menu Home\",\n        trigger: '#top_menu a:contains(\"Home\")',\n    },\n    {\n        content: \"Popover should be shown (2)\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Change the URL\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"text /contactus\"\n    },\n    {\n        content: \"Save the Link Dialog modal\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Click on the Home menu again\",\n        extra_trigger: '#top_menu a:contains(\"Home\")[href=\"/contactus\"]', // href should be changed\n        trigger: '#top_menu a:contains(\"Home\")',\n        // FIXME this run shouldnt be needed but click not working as real click\n        run: function (actions) {\n            actions.click();\n            this.$anchor.popover('show');\n        },\n    },\n    {\n        content: \"Popover should be shown with updated preview data (2)\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Edit Menu in Popover\",\n        trigger: '.o_edit_menu_popover .js_edit_menu',\n    },\n    {\n        content: \"Edit Menu (tree) should open\",\n        trigger: '.js_add_menu',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Close modal\",\n        trigger: '.modal-footer .btn-secondary',\n    },\n    // 3. Test other links (CTA in navbar & links in footer)\n    {\n        content: \"Click CTA in navbar\",\n        trigger: '#top_menu_container a.btn-primary[href=\"/contactus\"]',\n    },\n    {\n        content: \"Popover should be shown (3)\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (3)\",\n        trigger: '#toolbar:has(#o_link_dialog_url_input:propValue(/contactus))',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click 'Home' link in footer\",\n        trigger: 'footer a[href=\"/\"]',\n    },\n    {\n        content: \"Popover should be shown (4)\",\n        trigger: '.o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (4)\",\n        trigger: '#toolbar:has(#o_link_dialog_url_input:propValue(/))',\n        run: function () {}, // it's a check\n    },\n    // 4. Popover should close when clicking non-link element\n    ...clickFooter,\n    // FIXME this step shouldnt be needed but click not working as real click\n    {\n        content: \"REMOVEME\",\n        trigger: 'html', // Do not block if popover already hidden\n        run: (actions) => {\n            $('.o_edit_menu_popover').popover('hide');\n        },\n    },\n    // 5. Double click should not open popover but should open toolbar link\n    {\n        content: \"Double click on link\",\n        extra_trigger: 'html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        trigger: 'footer a[href=\"/\"]',\n        run: function (actions) {\n            // Create range to simulate real double click, see pull request\n            const range = document.createRange();\n            range.selectNodeContents(this.$anchor[0]);\n            const sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n            actions.click();\n            actions.dblclick();\n            // FIXME this step shouldnt be needed but click not working as real click\n            this.$anchor.popover('show');\n        },\n    },\n    {\n        content: \"Ensure popover is opened on double click, and so is right panel edit link\",\n        trigger: 'html:has(#o_link_dialog_url_input):has(.o_edit_menu_popover)',\n        run: function () {}, // it's a check\n    },\n]);\n});\n", "odoo.define(\"website.tour.edit_megamenu\", function (require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst wTourUtils = require('website.tour_utils');\n\nconst toggleMegaMenu = (stepOptions) => Object.assign({}, {\n    content: \"Toggles the mega menu.\",\n    trigger: '#top_menu .nav-item a.o_mega_menu_toggle',\n    run: function () {\n        // If the mega menu is displayed inside the extra menu items, it should\n        // already be displayed.\n        if (!this.$anchor[0].closest('.o_extra_menu_items')) {\n            this.$anchor.click();\n        }\n    },\n}, stepOptions);\n\ntour.register('edit_megamenu', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: '#top_menu .nav-item a',\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: '.o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_web_editor_dialog:visible',\n        trigger: '.modal-body a.js_add_menu[data-type=\"mega\"]',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        extra_trigger: '.o_link_dialog',\n        trigger: '.o_link_dialog #o_link_dialog_label_input',\n        run: 'text Megaaaaa!'\n    },\n    {\n        content: \"Save the new menu item\",\n        trigger: '.modal-dialog .btn-primary span:contains(\"Save\")',\n        run: 'click',\n    },\n    {\n        content: \"Save the changes to the menu\",\n        trigger: '.modal-dialog .btn-primary span:contains(\"Save\")',\n        run: 'click',\n    },\n    // Edit a menu item\n    wTourUtils.clickOnEdit(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: '#oe_snippets.o_loaded'}),\n    toggleMegaMenu({extra_trigger: '#top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")'}),\n    {\n        content: \"Clicks on the first title item.\",\n        trigger: '.o_mega_menu h4',\n    },\n    {\n        content: \"Press enter.\",\n        trigger: '.o_mega_menu h4',\n        run: function (actions) {\n            this.$anchor[0].dispatchEvent(new window.InputEvent('input', {bubbles: true, inputType: 'insertParagraph'}));\n        },\n    },\n    {\n        content: \"The menu should still be visible. Edit a menu item.\",\n        trigger: '.o_mega_menu h4',\n        run: 'text New Menu Item',\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'a[data-action=edit]'}),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should have been renamed.\",\n        trigger: '.o_mega_menu h4:contains(\"New Menu Item\")',\n        run: function () {}, // it's a check\n    },\n]);\n});\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\nimport tour from 'web_tour.tour';\n\nconst clickOnSave = {\n   content: \"Clicks on the menu edition dialog save button\",\n   trigger: '.modal-dialog .btn-primary span:contains(\"Save\")',\n};\n\ntour.register('edit_menus', {\n    test: true,\n    url: '/',\n}, [\n    // Add a megamenu item from the menu.\n    {\n        content: \"Open Pages menu\",\n        trigger: '.o_menu_sections a:contains(\"Pages\")',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a.dropdown-item:contains(\"Edit Menu\")',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_web_editor_dialog:visible',\n        trigger: '.modal-body a.js_add_menu[data-type=\"mega\"]',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        extra_trigger: '.o_link_dialog',\n        trigger: '.o_link_dialog #o_link_dialog_label_input',\n        run: 'text Megaaaaa!'\n    },\n    clickOnSave,\n    {\n        content: \"Click save and wait for the page to be reloaded\",\n        trigger: '.modal-dialog .btn-primary span:contains(\"Save\")',\n    },\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'body:not(.o_wait_reload)'}),\n    {\n        content: \"There should be a new megamenu item.\",\n        trigger: '#top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n        run: () => {}, // It's a check.\n    },\n    // Add a menu item in edit mode.\n    wTourUtils.clickOnEdit(),\n    {\n        content: \"Click on a menu item\",\n        trigger: '#top_menu .nav-item a',\n        extra_trigger: '#oe_snippets.o_loaded',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: '.o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Menu Item')\",\n        extra_trigger: '.o_web_editor_dialog:visible',\n        trigger: '.modal-body a.js_add_menu',\n    },\n    clickOnSave,\n    {\n        content: \"It didn't save without a label. Fill label input.\",\n        extra_trigger: '.o_link_dialog',\n        trigger: '.o_link_dialog #o_link_dialog_label_input',\n        run: 'text Random!',\n    },\n    clickOnSave,\n    {\n        content: \"It didn't save without a url. Fill url input.\",\n        extra_trigger: '.o_link_dialog',\n        trigger: '.o_link_dialog #o_link_dialog_url_input',\n        run: 'text #',\n    },\n    clickOnSave,\n    clickOnSave,\n    wTourUtils.clickOnEdit(),\n    // Edit the new menu item from the \"edit link\" popover button\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: '#oe_snippets.o_loaded'}),\n    {\n        content: \"Menu should have a new link item\",\n        trigger: '#top_menu .nav-item a:contains(\"Random!\")',\n    },\n    {\n        content: \"Click on Edit Link\",\n        trigger: '.o_edit_menu_popover a.o_we_edit_link',\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.o_link_dialog #o_link_dialog_label_input',\n        run: 'text Modnar',\n    },\n    clickOnSave,\n    ...wTourUtils.clickOnSave(),\n    // Edit the menu item from the \"edit menu\" popover button\n    wTourUtils.clickOnEdit(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: '#oe_snippets.o_loaded'}),\n    {\n        content: \"Label should have changed\",\n        trigger: '#top_menu .nav-item a:contains(\"Modnar\")',\n    },\n    {\n        content: \"Click on the popover Edit Menu button\",\n        trigger: '.o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Click on the dialog Edit Menu button\",\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar\")',\n        run: function () {\n            const liEl = this.$anchor[0].closest('[data-menu-id]');\n            liEl.querySelector('button.js_edit_menu').click();\n        },\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.o_link_dialog #o_link_dialog_label_input',\n        run: 'text Modnar !!',\n    },\n    clickOnSave,\n    clickOnSave,\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'a[data-action=edit]'}),\n    {\n        content: \"Label should have changed\",\n        trigger: '#top_menu .nav-item a:contains(\"Modnar !!\")',\n        run: () => {}, // It's a check.\n    },\n]);\n", "/** @odoo-module **/\n\nimport tour from \"web_tour.tour\";\n\ntour.register('edit_translated_page_redirect', {\n    test: true,\n    url: '/nl/contactus',\n}, [\n    {\n        content: 'click edit master',\n        trigger: 'a[data-action=\"edit_master\"]',\n    },\n    {\n        content: 'check editor dashboard',\n        trigger: '#oe_snippets.o_loaded',\n        run: () => {\n            // After checking the presence of the editor dashboard, we visit a\n            // translated version of the homepage. The homepage is a special\n            // case (there is no trailing slash), so we test it separately.\n            location.href = '/nl';\n        },\n    },\n    {\n        content: 'click edit master',\n        trigger: 'a[data-action=\"edit_master\"]',\n    },\n    {\n        content: 'check editor dashboard',\n        trigger: '#oe_snippets.o_loaded',\n        run: () => {},\n    },\n]);\n", "odoo.define('website.tour.focus_blur_snippets', function (require) {\n'use strict';\n\nconst ajax = require('web.ajax');\nconst tour = require('web_tour.tour');\n\nconst blockIDToData = {\n    parent: {\n        selector: '.s_focusblur',\n        name: 'section',\n        overlayIndex: 2,\n    },\n    child1: {\n        selector: '.s_focusblur_child1',\n        name: 'first child',\n        overlayIndex: 1,\n    },\n    child2: {\n        selector: '.s_focusblur_child2',\n        name: 'second child',\n        overlayIndex: 0,\n    },\n};\n\nfunction clickAndCheck(blockID, expected) {\n    const blockData = blockIDToData[blockID] || {};\n\n    return [{\n        content: blockID ? `Enable the ${blockData.name}` : 'Disable all blocks',\n        trigger: blockData.selector || '#wrapwrap',\n    }, {\n        content: 'Once the related overlays are enabled/disabled, check that the focus/blur calls have been correct.',\n        trigger: blockID\n            ? `.oe_overlay.ui-draggable:eq(${blockData.overlayIndex}).oe_active`\n            : `#oe_manipulators:not(:has(.oe_active))`,\n        run: function (actions) {\n            const result = window.focusBlurSnippetsResult;\n            window.focusBlurSnippetsResult = [];\n\n            if (expected.length !== result.length\n                    || !expected.every((item, i) => item === result[i])) {\n                console.error(`\n                    Expected: ${expected.toString()}\n                    Result: ${result.toString()}\n                `);\n            }\n        },\n    }];\n}\n\nwindow.focusBlurSnippetsResult = [];\n\ntour.register('focus_blur_snippets', {\n    url: '/?enable_editor=1',\n}, [\n    {\n        content: 'First load our custom JS options',\n        trigger: 'body',\n        run: function () {\n            ajax.loadJS('/website/static/tests/tour_utils/focus_blur_snippets_options.js').then(function () {\n                $('body').addClass('focus_blur_snippets_options_loaded');\n            });\n        },\n    },\n    {\n        content: 'Drag the custom block into the page',\n        trigger: '#snippet_structure .oe_snippet:has(.oe_snippet_body.s_focusblur) .oe_snippet_thumbnail',\n        extra_trigger: 'body.focus_blur_snippets_options_loaded',\n        run: 'drag_and_drop #wrap',\n    },\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck(null, ['blur parent']),\n    ...clickAndCheck('child1', ['focus parent', 'focus child1']),\n    ...clickAndCheck('child1', []),\n    ...clickAndCheck(null, ['blur parent', 'blur child1']),\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck('child1', ['blur parent', 'focus parent', 'focus child1']),\n    ...clickAndCheck('child2', ['blur parent', 'blur child1', 'focus parent', 'focus child2']),\n    ...clickAndCheck('parent', ['blur parent', 'blur child2', 'focus parent']),\n]);\n});\n", "/* global ace */\nodoo.define('website.test.html_editor', function (require) {\n'use strict';\n\nvar tour = require('web_tour.tour');\n\nconst adminCssModif = '#wrap {display: none;}';\nconst demoCssModif = '// demo_edition';\n\ntour.register('html_editor_multiple_templates', {\n    test: true,\n    url: '/generic',\n},\n    [\n        // 1. Edit the page through Edit Mode, it will COW the view\n        {\n            content: \"enter edit mode\",\n            trigger: 'a[data-action=edit]',\n        },\n        {\n            content: \"drop a snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_cover) .oe_snippet_thumbnail',\n            // id starting by 'oe_structure..' will actually create an inherited view\n            run: \"drag_and_drop #oe_structure_test_ui\",\n        },\n        {\n            content: \"save the page\",\n            extra_trigger: '#oe_structure_test_ui.o_dirty',\n            trigger: \"button[data-action=save]\",\n        },\n        // 2. Edit generic view\n        {\n            content: \"open customize menu\",\n            extra_trigger: \"body:not(.editor_enable)\",\n            trigger: '#customize-menu > a',\n        },\n        {\n            content: \"open html editor\",\n            trigger: '#html_editor',\n        },\n        {\n            content: \"add something in the generic view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"Generic\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 3, column: 1}, '<p>somenewcontent</p>\\n');\n            },\n        },\n        // 3. Edit oe_structure specific view\n        {\n            content: \"select oe_structure specific view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"somenewcontent\")',\n            run: function () {\n                var viewId = $('#ace-view-list option:contains(\"oe_structure_test_ui\")').val();\n                $('#ace-view-list').val(viewId).trigger('change');\n            },\n        },\n        {\n            content: \"add something in the oe_structure specific view\",\n            extra_trigger: '#ace-view-id:contains(\"test.generic_view_oe_structure_test_ui\")', // If no xml_id it should show key\n            trigger: 'div.ace_line .ace_xml:contains(\"s_cover\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 1}, '<p>anothernewcontent</p>\\n');\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: 'div.ace_line .ace_xml:contains(\"anothernewcontent\")',\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n        {\n           content: \"check that the page has both modification\",\n           extra_trigger: '#wrapwrap:contains(\"anothernewcontent\")',\n           trigger: '#wrapwrap:contains(\"somenewcontent\")',\n           run: function () {}, // it's a check\n       },\n    ]\n);\n\ntour.register('test_html_editor_scss', {\n    test: true,\n    url: '/contactus',\n},\n    [\n        // 1. Open Html Editor and select a scss file\n        {\n            content: \"open customize menu\",\n            extra_trigger: '#wrap:visible', // ensure state for later\n            trigger: '#customize-menu > a',\n        },\n        {\n            content: \"open html editor\",\n            trigger: '#html_editor',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_ace_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_ace_type_switcher_choice[data-type=\"scss\"]',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: 'body:has(#ace-scss-list option:contains(\"user_custom_rules\"))',\n            run: function () {\n                var scssId = $('#ace-scss-list option:contains(\"user_custom_rules\")').val();\n                $('#ace-scss-list').val(scssId).trigger('change');\n            },\n        },\n        // 2. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n         {\n            content: \"check that the scss modification got applied\",\n            trigger: 'body:has(#wrap:hidden)',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#ace-view-id button[data-action=\"reset\"]',\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly, wrap content should now be visible again\",\n            trigger: '#wrap:visible',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        // 3. Customize again that file (will be used in second part of the test\n        //    to ensure restricted user can still use the HTML Editor)\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: '.o_ace_view_editor button[data-action=save]',\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: 'body:has(#wrap:hidden)',\n            run: function () {\n                window.location.href = '/web/session/logout?redirect=/web/login';\n            },\n            timeout: 30000, // SCSS compilation might take some time\n        },\n\n        // This part of the test ensures that a restricted user can still use\n        // the HTML Editor if someone else made a customization previously.\n\n        {\n            content: \"Submit login\",\n            trigger: '.oe_login_form',\n            run: function () {\n                $('.oe_login_form input[name=\"login\"]').val(\"demo\");\n                $('.oe_login_form input[name=\"password\"]').val(\"demo\");\n                $('.oe_login_form input[name=\"redirect\"]').val(\"/\");\n                $('.oe_login_form').submit();\n            },\n        },\n        // 4. Open Html Editor and select a scss file\n        {\n            content: \"open customize menu\",\n            trigger: '#customize-menu > a',\n        },\n        {\n            content: \"open html editor\",\n            trigger: '#html_editor',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_ace_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_ace_type_switcher_choice[data-type=\"scss\"]',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: 'body:has(#ace-scss-list option:contains(\"user_custom_rules\"))',\n            run: function () {\n                var scssId = $('#ace-scss-list option:contains(\"user_custom_rules\")').val();\n                $('#ace-scss-list').val(scssId).trigger('change');\n            },\n        },\n        // 5. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`, // ensure the admin modification is here\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${demoCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${demoCssModif}\")`,\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n        {\n            content: \"wait for reload\",\n            trigger: \"body:not(:has(div.o_ace_view_editor))\",\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#ace-view-id button[data-action=\"reset\"]',\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly\",\n            extra_trigger: `body:not(:has(div.ace_line:contains(\"${adminCssModif}\")))`,\n            trigger: `body:not(:has(div.ace_line:contains(\"${demoCssModif}\")))`,\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n    ]\n);\n\n});\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\nconst clickOnImgStep = {\n    content: \"Click somewhere else to save.\",\n    trigger: '#wrap .s_text_image img',\n};\n\ntour.register('link_tools', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [\n    // 1. Create a new link from scratch.\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Replace first paragraph, to insert a new link\",\n        trigger: '#wrap .s_text_image p',\n        run: 'text Go to odoo: '\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar #create-link\",\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text odoo.com'\n    },\n    clickOnImgStep,\n    // 2. Edit the link with the link tools.\n    {\n        content: \"Click on the newly created link, change content to odoo website\",\n        trigger: '.s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n        run: 'text odoo website',\n    },\n    {\n        content: \"Link tools, should be open, change the url\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text odoo.be'\n    },\n    clickOnImgStep,\n    ...wTourUtils.clickOnSave(),\n    // 3. Edit a link after saving the page.\n    wTourUtils.clickOnEdit(),\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        extra_trigger: \"#oe_snippets.o_loaded\",\n        trigger: '.s_text_image a[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n    },\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: '#toolbar button[data-original-title=\"Link Style\"]',\n    },\n    {\n        trigger: 'body',\n        run: () => {\n            // When doing automated testing, the link popover takes time to\n            // hide. While hidding, the editor observer is unactive in order to\n            // prevent the popover mutation to be recorded. In a manual\n            // scenario, the popover has plenty of time to be hidden and the\n            // obsever would be re-activated in time. As this problem arise only\n            // in test, we activate the observer here for the popover.\n            $('#wrapwrap').data('wysiwyg').odooEditor.observerActive('hide.bs.popover');\n        },\n    },\n    {\n        content: \"Click on the secondary style button.\",\n        trigger: '#toolbar we-button[data-value=\"secondary\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"The link should have the secondary button style.\",\n        trigger: '.s_text_image a.btn.btn-secondary[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n        run: () => {}, // It's a check.\n    },\n    // 4. Add link on image.\n    wTourUtils.clickOnEdit(),\n    {\n        content: \"Click on image.\",\n        trigger: '.s_text_image img',\n        extra_trigger: '#oe_snippets.o_loaded',\n    },\n    {\n        content: \"Activate link.\",\n        trigger: '.o_we_customize_panel we-row:contains(\"Media\") we-button.fa-link',\n    },\n    {\n        content: \"Set URL.\",\n        trigger: '.o_we_customize_panel we-input:contains(\"Your URL\") input',\n        run: 'text odoo.com',\n    },\n    {\n        content: \"Deselect image.\",\n        trigger: '.s_text_image p',\n    },\n    {\n        content: \"Re-select image.\",\n        trigger: '.s_text_image img',\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: '.popover div a:contains(\"http://odoo.com\")',\n        run: () => {}, // It's a check.\n    },\n    // 5. Remove link from image.\n    {\n        content: \"Remove link.\",\n        trigger: '.popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n    },\n    {\n        content: \"Check that image is not within a link anymore.\",\n        trigger: '.s_text_image div > img',\n        run: () => {}, // It's a check.\n    },\n]);\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\ntour.register('website_media_dialog_undraw', {\n    test: true,\n    url: '/',\n}, [\n{\n    trigger: 'a[data-action=edit]',\n},\nwTourUtils.dragNDrop({\n    id: 's_text_image',\n    name: 'Text - Image',\n}),\n{\n    trigger: '.s_text_image img',\n    run: \"dblclick\",\n},\n{\n    trigger: '.o_select_media_dialog:has(.o_we_search_select option[value=\"media-library\"])',\n},\n]);\n", "odoo.define('website.tour.public_user_editor_dep_widget', function (require) {\n'use strict';\n\nconst publicWidget = require('web.public.widget');\nconst wysiwygLoader = require('web_editor.loader');\n\npublicWidget.registry['public_user_editor_test'] = publicWidget.Widget.extend({\n    selector: 'textarea.o_public_user_editor_test_textarea',\n\n    /**\n     * @override\n     */\n    start: async function () {\n        await this._super(...arguments);\n        await wysiwygLoader.loadFromTextarea(this, this.el, {});\n    },\n});\n});\n\nodoo.define('website.tour.public_user_editor', function (require) {\n'use strict';\n\nconst tour = require('web_tour.tour');\n\ntour.register('public_user_editor', {\n    test: true,\n}, [{\n    trigger: '.note-editable',\n    run: function () {}, // Simple check\n}]);\n});\n", "odoo.define('website.tour_reset_password', function (require) {\n'use strict';\n\nvar tour = require('web_tour.tour');\nrequire('web.dom_ready');\n\ntour.register('website_reset_password', {\n    test: true,\n}, [\n    {\n        content: \"fill new password\",\n        trigger: '.oe_reset_password_form input[name=\"password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"fill confirm password\",\n        trigger: '.oe_reset_password_form input[name=\"confirm_password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"submit reset password form\",\n        trigger: '.oe_reset_password_form button[type=\"submit\"]',\n    },\n    {\n        content: \"check that we're logged in\",\n        trigger: '.oe_topbar_name:contains(\"The King\")',\n        run: function () {}\n    },\n]);\n});\n", "odoo.define(\"website.tour.restricted_editor\", function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register(\"restricted_editor\", {\n    test: true,\n    url: \"/\",\n}, [{\n    trigger: 'a[data-action=edit]',\n    content: \"Click \\\"EDIT\\\" button of website as Restricted Editor\",\n    extra_trigger: \".homepage\",\n}, {\n    trigger: '#oe_snippets.o_loaded',\n    content: \"Check that the snippets loaded properly\",\n}]);\n});\n", "odoo.define('website.tour.rte', function (require) {\n'use strict';\n\nvar ajax = require('web.ajax');\nvar session = require('web.session');\nvar tour = require('web_tour.tour');\n\nvar domReady = new Promise(function (resolve) {\n    $(resolve);\n});\nvar ready = Promise.all([domReady, session.is_bound, ajax.loadXML()]);\n\ntour.register('rte_translator', {\n    test: true,\n    url: '/',\n    wait_for: ready,\n}, [{\n    content: \"click language dropdown\",\n    trigger: '.js_language_selector .dropdown-toggle',\n}, {\n    content: \"click on Add a language\",\n    trigger: 'a.o_add_language',\n}, {\n    content: \"select Parseltongue\",\n    trigger: 'select[name=\"lang\"]',\n    run: 'text \"pa_GB\"',\n}, {\n    content: \"load Parseltongue\",\n    trigger: '.modal-footer button:first',\n    extra_trigger: '.modal select[name=\"lang\"]:propValueContains(pa_GB)',\n}, {\n    content: \"click language dropdown (2)\",\n    trigger: '.js_language_selector .dropdown-toggle',\n    timeout: 60000,\n}, {\n    content: \"go to english version\",\n    trigger: '.js_language_selector a[data-url_code=\"en\"]',\n    extra_trigger: 'html[lang*=\"pa-GB\"]',\n}, {\n    content: \"Open new page menu\",\n    trigger: \"body:has(#o_new_content_menu_choices.o_hidden) #new-content-menu > a\",\n    extra_trigger: 'a[data-action=\"edit\"]',\n    consumeVisibleOnly: true,\n}, {\n    content: \"click on new page\",\n    trigger: 'a[data-action=\"new_page\"]',\n}, {\n    content: \"insert page name\",\n    trigger: '#editor_new_page input[type=\"text\"]',\n    run: 'text rte_translator',\n}, {\n    content: \"create page\",\n    trigger: 'button.btn-continue',\n    extra_trigger: 'input[type=\"text\"]:propValue(rte_translator)',\n}, {\n    content: \"drop a snippet\",\n    trigger: \"#snippet_structure .oe_snippet:eq(1) .oe_snippet_thumbnail\",\n    run: 'drag_and_drop #wrap',\n}, {\n    content: \"change content\",\n    trigger: '#wrap',\n    run: function () {\n        $(\"#wrap p:first\").replaceWith('<p>Write one or <font style=\"background-color: yellow;\">two paragraphs <b>describing</b></font> your product or\\\n                <font style=\"color: rgb(255, 0, 0);\">services</font>. To be successful your content needs to be\\\n                useful to your <a href=\"/999\">readers</a>.</p> <input placeholder=\"test translate placeholder\"/>\\\n                <p>&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty</p>');\n        $(\"#wrap img\").attr(\"title\", \"test translate image title\");\n    }\n}, {\n    content: \"save\",\n    trigger: 'button[data-action=save]',\n    extra_trigger: '#wrap p:first b',\n}, {\n    content: \"click language dropdown (3)\",\n    trigger: '.js_language_selector .dropdown-toggle',\n    extra_trigger: 'body:not(.o_wait_reload):not(:has(.note-editor)) a[data-action=\"edit\"]',\n}, {\n    content: \"click on Parseltongue version\",\n    trigger: '.js_language_selector a[data-url_code=\"pa_GB\"]',\n    extra_trigger: 'html[lang*=\"en\"]:not(:has(button[data-action=save]))',\n}, {\n    content: \"translate\",\n    trigger: 'html:not(:has(#wrap p span)) .o_menu_systray a[data-action=\"translate\"]',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-secondary',\n}, {\n    content: \"check if translation is activate\",\n    trigger: '[data-oe-translation-id]',\n}, {\n    content: \"translate text\",\n    extra_trigger: '.editor_started',\n    trigger: '#wrap p font:first',\n    run: function (actionHelper) {\n        actionHelper.text('translated Parseltongue text');\n        const Wysiwyg = odoo.__DEBUG__.services['web_editor.wysiwyg'];\n        Wysiwyg.setRange(this.$anchor.contents()[0], 22);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_', keyCode: 95}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"translate text with special char\",\n    trigger: '#wrap input + p span:first',\n    run: function (actionHelper) {\n        actionHelper.click();\n        this.$anchor.prepend('&lt;{translated}&gt;');\n        const Wysiwyg = odoo.__DEBUG__.services['web_editor.wysiwyg'];\n        Wysiwyg.setRange(this.$anchor.contents()[0], 0);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_', keyCode: 95}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"click on input\",\n    trigger: '#wrap input:first',\n    extra_trigger: '#wrap .o_dirty font:first:contains(translated Parseltongue text)',\n    run: 'click',\n}, {\n    content: \"translate placeholder\",\n    trigger: 'input:first',\n    run: 'text test Parseltongue placeholder',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal input:propValue(test Parseltongue placeholder)',\n}, {\n    content: \"save translation\",\n    trigger: 'button[data-action=save]',\n}, {\n    content: \"check: content is translated\",\n    trigger: '#wrap p font:first:contains(translated Parseltongue text)',\n    extra_trigger: 'body:not(.o_wait_reload):not(:has(.note-editor)) a[data-action=\"edit_master\"]',\n    run: function () {}, // it's a check\n}, {\n    content: \"check: content with special char is translated\",\n    trigger: \"#wrap input + p:contains(<{translated}><b></b> is an HTML\\xa0tag & )\",\n    run: function () {}, // it's a check\n\n}, {\n    content: \"check: placeholder translation\",\n    trigger: 'input[placeholder=\"test Parseltongue placeholder\"]',\n    run: function () {}, // it's a check\n\n}, {\n    content: \"open language selector\",\n    trigger: '.js_language_selector button:first',\n    extra_trigger: 'html[lang*=\"pa-GB\"]:not(:has(#wrap p span))',\n}, {\n    content: \"return to english version\",\n    trigger: '.js_language_selector a[data-url_code=\"en\"]',\n}, {\n    content: \"edit english version\",\n    trigger: 'a[data-action=edit]',\n    extra_trigger: 'body:not(:has(#wrap p font:first:containsExact(paragraphs <b>describing</b>)))',\n}, {\n    content: \"select text\",\n    extra_trigger: '#oe_snippets.o_loaded',\n    trigger: '#wrap p',\n    run: function (actionHelper) {\n        actionHelper.click();\n        var el = this.$anchor[0];\n        var mousedown = document.createEvent('MouseEvents');\n        mousedown.initMouseEvent('mousedown', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mousedown);\n        var mouseup = document.createEvent('MouseEvents');\n        const Wysiwyg = odoo.__DEBUG__.services['web_editor.wysiwyg'];\n        Wysiwyg.setRange(el.childNodes[2], 6, el.childNodes[2], 13);\n        mouseup.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mouseup);\n    },\n// This is disabled for now because it reveals a bug that is fixed in saas-15.1\n// and considered a tradeoff in 15.0. The bug concerns the invalidation of\n// translations when inserting tags with more than one character. Whereas <u>\n// didn't trigger an invalidation, <span style=\"text-decoration-line: underline;\">\n// does.\n// }, {\n//     content: \"underline\",\n//     trigger: '.oe-toolbar #underline',\n}, {\n    content: \"save new change\",\n    trigger: 'button[data-action=save]',\n    // See comment above.\n    // extra_trigger: '#wrap.o_dirty p span[style*=\"text-decoration-line: underline;\"]',\n}, {\n    content: \"click language dropdown (4)\",\n    trigger: '.js_language_selector .dropdown-toggle',\n    extra_trigger: 'body:not(.o_wait_reload):not(:has(.note-editor)) a[data-action=\"edit\"]',\n}, {\n    content: \"return in Parseltongue\",\n    trigger: 'html[lang=\"en-US\"] .js_language_selector .js_change_lang[data-url_code=\"pa_GB\"]',\n}, {\n    content: \"check bis: content is translated\",\n    trigger: '#wrap p font:first:contains(translated Parseltongue text)',\n    extra_trigger: 'html[lang*=\"pa-GB\"] body:not(:has(button[data-action=save]))',\n}, {\n    content: \"check bis: placeholder translation\",\n    trigger: 'input[placeholder=\"test Parseltongue placeholder\"]',\n}, {\n    content: \"Open customize menu\",\n    trigger: \"#customize-menu > .dropdown-toggle\",\n}, {\n    content: \"Open HTML editor\",\n    trigger: \"[data-action='ace']\",\n}, {\n    content: \"Check that the editor is not showing translated content (1)\",\n    trigger: '.ace_text-layer .ace_line:contains(\"an HTML\")',\n    run: function (actions) {\n        var lineEscapedText = $(this.$anchor.text()).text();\n        if (lineEscapedText !== \"&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty\") {\n            console.error('The HTML editor should display the correct untranslated content');\n            $('body').addClass('rte_translator_error');\n        }\n    },\n}, {\n    content: \"Check that the editor is not showing translated content (2)\",\n    trigger: 'body:not(.rte_translator_error)',\n    run: function () {},\n}]);\n});\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\nimport weUtils from 'web_editor.utils';\nimport wTourUtils from 'website.tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n];\nconst gradients = [\n    'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n    'linear-gradient(135deg, rgb(255, 222, 202) 0%, rgb(202, 115, 69) 100%)',\n];\n\nfunction typeToName(xType) {\n    return xType === 'cc' ? 'color combinations' : xType === 'bg' ? 'background colors' : 'gradients';\n}\n\nfunction switchTo(type, _name) {\n    const target = type === 'cc' ? 'color-combinations' : type === 'bg' ? 'custom-colors' : 'gradients';\n    const name = _name || typeToName(type);\n    return {\n        trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${target}\"]`,\n        content: `Switch to ${name}`,\n    };\n}\n\nfunction addCheck(steps, checkX, checkNoX, xType, noSwitch = false) {\n    if (!checkX && !checkNoX) {\n        return;\n    }\n\n    const name = typeToName(xType);\n    const selectorCheckX = checkX && `.o_we_color_btn[data-color=\"${checkX}\"].selected`;\n    const selectorCheckNoX = checkNoX && `.o_we_color_btn[data-color=\"${checkNoX}\"]:not(.selected)`;\n    const step = {\n        trigger: selectorCheckX || selectorCheckNoX,\n        content: `The correct ${name} is marked as selected`,\n        position: 'bottom',\n        run: () => null,\n    };\n    if (!selectorCheckX && selectorCheckNoX) {\n        step.extra_trigger = selectorCheckNoX;\n    }\n\n    if (!noSwitch) {\n        steps.push(switchTo(xType, name));\n    }\n    steps.push(step);\n}\n\nfunction checkAndUpdateBackgroundColor({\n    checkCC, checkNoCC,\n    checkBg, checkNoBg,\n    checkGradient, checkNoGradient,\n    changeType, change,\n    finalSelector, finalRun\n}) {\n    const steps = [\n        wTourUtils.changeBackgroundColor(),\n    ];\n\n    addCheck(steps, checkCC, checkNoCC, 'cc', true);\n    addCheck(steps, checkBg, checkNoBg, 'bg');\n    addCheck(steps, checkGradient, checkNoGradient, 'gradient');\n\n    if (changeType) {\n        steps.push(switchTo(changeType));\n        steps.push(wTourUtils.changeOption('ColoredLevelBackground', `.o_we_color_btn[data-color=\"${change}\"]`));\n        steps.push({\n            trigger: finalSelector,\n            content: \"The selected colors have been applied (CC AND (BG or GRADIENT))\",\n            position: 'bottom',\n            run: finalRun,\n        });\n    }\n\n    return steps;\n}\n\nfunction updateAndCheckCustomGradient({updateStep, checkGradient}) {\n    const steps = [updateStep, {\n        trigger: `#wrapwrap section.${snippets[0].id}.o_cc1`,\n        content: 'Color combination 1 still selected',\n        run: () => null,\n    }];\n    addCheck(steps, checkGradient, checkGradient !== gradients[0] && gradients[0], 'gradient', true);\n    return steps;\n}\n\ntour.register('snippet_background_edition', {\n    test: true,\n    url: '/?enable_editor=1',\n},\n[\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\n\n// Add a color combination\n...checkAndUpdateBackgroundColor({\n    changeType: 'cc',\n    change: 3,\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc3:not([class*=bg-]):not([style*=\"background\"])`,\n}),\n\n// Change the color combination + Check the previous one was marked as selected\n...checkAndUpdateBackgroundColor({\n    checkCC: 3,\n    changeType: 'cc',\n    change: 2,\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc2:not(.o_cc3):not([class*=bg-])`,\n}),\n\n// Check the color combination was marked as selected + Edit the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkNoCC: 3,\n    changeType: 'bg',\n    change: 'black-50',\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc2.bg-black-50`,\n}),\n\n// Check the current color palette selection + Change the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: 'black-50',\n    changeType: 'bg',\n    change: '800',\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc2.bg-800:not(.bg-black-50)`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the bg color class.\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: '800',\n    checkNoBg: 'black-50',\n    changeType: 'cc',\n    change: 4,\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc4:not(.o_cc2).bg-800`,\n}),\n\n// Check the current color palette status + Replace the bg color by a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoCC: 2,\n    checkBg: '800',\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc4:not(.bg-800)[style*=\"background-image: ${gradients[0]}\"]`,\n}),\n\n// Check the current color palette status + Replace the gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoBg: '800',\n    checkGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc4[style*=\"background-image: ${gradients[1]}\"]:not([style*=\"background-image: ${gradients[0]}\"])`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the gradient.\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkGradient: gradients[1],\n    checkNoGradient: gradients[0],\n    changeType: 'cc',\n    change: 1,\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc1:not(.o_cc4)[style*=\"background-image: ${gradients[1]}\"]`,\n}),\n\n// Final check of the color status in the color palette\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoCC: 4,\n    checkGradient: gradients[1],\n}),\n\n// Now, add an image on top of that color combination + gradient\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]'),\n{\n    trigger: '.o_existing_attachment_cell img',\n    content: \"Select an image in the media dialog\",\n},\n{\n    trigger: `.${snippets[0].id}.o_cc.o_cc1`,\n    run: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('An image should have been added as background.');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been kept when adding the background image');\n        }\n    },\n},\n\n// Replace the gradient while there is a background-image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[1],\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc1:not([style*=\"${gradients[1]}\"])`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when changing the gradient');\n        }\n        if (parts.gradient !== gradients[0]) {\n            console.error('The gradient should have been changed');\n        }\n    },\n}),\n\n// Customize gradient\nwTourUtils.changeBackgroundColor(),\nswitchTo('gradient'),\n// Avoid navigating across tabs to maintain current editor state\n// Step colors\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_custom_gradient_scale',\n        content: 'Add step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_slider_multi input.active',\n        content: 'Move step',\n        run: () => {\n            const slider = $('.colorpicker .o_slider_multi input.active');\n            slider.val(45);\n            slider.trigger('click');\n        },\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_color_picker_inputs .o_hex_div input',\n        content: 'Pick step color',\n        run: 'text #FF0000',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(255, 0, 0) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_remove_color',\n        content: 'Delete step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Linear\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"angle\"]',\n        content: 'Change angle',\n        run: 'text_blur 50',\n    },\n    checkGradient: 'linear-gradient(50deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Radial\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-type=\"radial-gradient\"]',\n        content: 'Switch to Radial',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 25% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionX\"]',\n        content: 'Change X position',\n        run: 'text_blur 33',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionY\"]',\n        content: 'Change Y position',\n        run: 'text_blur 75',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-size=\"closest-side\"]',\n        content: 'Change color spread size',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle closest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Revert to predefined gradient\n{\n    trigger: `.o_we_color_btn[data-color=\"${gradients[0]}\"]`,\n    content: `Revert to predefiend gradient ${gradients[0]}`,\n    run: 'click',\n},\n\n// Replace the gradient by a bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[0],\n    checkNoGradient: gradients[1],\n    changeType: 'bg',\n    change: 'black-75',\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc1.bg-black-75[style^=\"background-image: url(\"]:not([style*=\"${gradients[0]}\"])`\n}),\n\n// Re-add a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkBg: 'black-75',\n    checkNoGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `.${snippets[0].id}.o_cc.o_cc1:not(.bg-black-75)`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when re-adding the gradient');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been re-added');\n        }\n    },\n}),\n\n// Final check of color selection and removing the image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoBg: 'black-75',\n    checkGradient: gradients[1],\n}),\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]'),\n{\n    trigger: `.${snippets[0].id}.o_cc.o_cc1[style*=\"background-image: ${gradients[1]}\"]`,\n    run: () => null,\n},\n\n// Now removing all colors via the 'None' button (note: colorpicker still opened)\n{\n    trigger: '.o_colorpicker_reset',\n    content: \"Click on the None button of the color palette\",\n},\n{\n    trigger: `.${snippets[0].id}:not(.o_cc):not(.o_cc1):not([style*=\"background-image\"])`,\n    content: \"All color classes and properties should have been removed\",\n    run: () => null,\n}\n]);\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\ntour.register('snippet_countdown', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [\n    wTourUtils.dragNDrop({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.clickOnSnippet({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message\"]', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button.toggle-edit-message', 'message preview'),\n    // The next two steps check that the end message does not disappear when a\n    // widgets_start_request is triggered.\n    {\n        content: \"Hover an option which has a preview\",\n        trigger: '[data-select-class=\"o_half_screen_height\"]',\n        run: function (actions) {\n            this.$anchor.trigger('mouseover');\n            this.$anchor.trigger('mouseenter');\n        },\n    },\n    {\n        content: \"Check that the countdown message is still displayed\",\n        trigger: '.s_countdown .s_picture',\n        run: () => {\n            // Just a visibility check\n\n            // Also make sure the mouseout and mouseleave are triggered so that\n            // next steps make sense.\n            // TODO the next steps are not actually testing anything without\n            // it and the mouseout and mouseleave make sense but really it\n            // should not be *necessary* to simulate those for the editor flow\n            // to make some sense.\n            const $previousAnchor = $('[data-select-class=\"o_half_screen_height\"]');\n            $previousAnchor.trigger('mouseout');\n            $previousAnchor.trigger('mouseleave');\n        },\n    },\n    // Next, we change the end action to message and no countdown while the edit\n    // message toggle is still activated. It should hide the countdown\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message_no_countdown\"]', 'end action'),\n    {\n        content: \"Check that the countdown is not displayed\",\n        trigger: '.s_countdown:has(.s_countdown_canvas_wrapper:not(:visible))',\n        run: () => null, // Just a visibility check\n    },\n    {\n        content: \"Check that the message is still displayed\",\n        trigger: '.s_countdown .s_picture',\n        run: () => null, // Just a visibility check\n    },\n]);\n", "odoo.define(\"website.tour.snippet_empty_parent_autoremove\", function (require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst wTourUtils = require('website.tour_utils');\n\nfunction removeSelectedBlock() {\n    return {\n        content: \"Remove selected block\",\n        trigger: '#oe_snippets we-customizeblock-options:nth-last-child(3) .oe_snippet_remove',\n    };\n}\n\ntour.register('snippet_empty_parent_autoremove', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [\n    // Base case: remove both columns from text - image\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on second column\",\n        trigger: '#wrap .s_text_image .row > :nth-child(2)',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Click on first column\",\n        trigger: '#wrap .s_text_image .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: '#wrap:empty',\n    },\n\n    // Banner: test that parallax, bg-filter and shape are not treated as content\n    wTourUtils.dragNDrop({\n        id: 's_banner',\n        name: 'Banner',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_banner',\n        name: 'Banner',\n    }),\n    {\n        content: \"Check that parallax is present\",\n        trigger: '#wrap .s_banner .s_parallax_bg',\n        run: () => null,\n    },\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape is present\",\n        trigger: '#wrap .s_banner .o_we_shape',\n        run: () => null,\n    },\n    {\n        content: \"Click on first column\",\n        trigger: '#wrap .s_banner .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: '#wrap:empty',\n        run: () => null,\n    },\n]);\n});\n", "/** @odoo-module */\n\nimport tour from 'web_tour.tour';\n\ntour.register('snippet_popup_add_remove', {\n    test: true,\n    url: '/?enable_editor=1',\n}, [{\n    content: 'Drop s_popup snippet',\n    trigger: '#oe_snippets .oe_snippet:has( > [data-snippet=\"s_popup\"]) .oe_snippet_thumbnail',\n    run: \"drag_and_drop #wrap\",\n}, {\n    content: 'Edit s_popup snippet',\n    in_modal: false,\n    trigger: '#wrap.o_editable [data-snippet=\"s_popup\"] .row > div', // Click deep in the snippet structure\n}, {\n    content: 'Check s_popup setting are loaded, wait panel is visible',\n    in_modal: false,\n    trigger: '.o_we_customize_panel',\n    run: () => null,\n}, {\n    content: `Remove the s_popup snippet`,\n    in_modal: false,\n    trigger: '.o_we_customize_panel we-button.oe_snippet_remove:first',\n}, {\n    content: 'Check the s_popup was removed',\n    in_modal: false,\n    trigger: '#wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null,\n},\n// Test that undoing dropping the snippet removes the invisible elements panel.\n{\n    content: \"Drop the snippet again.\",\n    trigger: '#oe_snippets .oe_snippet:has(> [data-snippet=\"s_popup\"]) .oe_snippet_thumbnail',\n    run: \"drag_and_drop #wrap\",\n}, {\n    content: \"The popup should be in the invisible elements panel.\",\n    in_modal: false,\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    run: () => null, // It's a check.\n}, {\n    content: \"Click on the 'undo' button.\",\n    in_modal: false,\n    trigger: '#oe_snippets button[data-action=\"undo\"]',\n}, {\n    content: \"Check that the s_popup was removed.\",\n    in_modal: false,\n    trigger: '#wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null, // It's a check.\n}, {\n    content: \"The invisible elements panel should also be removed.\",\n    trigger: '#oe_snippets:has(.o_we_invisible_el_panel.d-none)',\n    run: () => null, // It's a check.\n}]);\n", "odoo.define(\"website.tour.snippet_version\", function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register(\"snippet_version\", {\n    test: true,\n    url: \"/\",\n}, [{\n    content: \"Enter edit mode\",\n    trigger: 'a[data-action=edit]',\n}, {\n    content: \"Drop s_test_snip snippet\",\n    trigger: '#oe_snippets .oe_snippet:has(.s_test_snip) .oe_snippet_thumbnail',\n    run: \"drag_and_drop #wrap\",\n}, {\n    content: \"Drop s_text_image snippet\",\n    trigger: '#oe_snippets .oe_snippet:has(.s_text_image) .oe_snippet_thumbnail:not(.o_we_already_dragging)',\n    run: \"drag_and_drop #wrap\",\n}, {\n    content: \"Test t-snippet and t-snippet-call: snippets have data-snippet set\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet.ui-draggable',\n    run: function () {\n        // Tests done here as all these are not visible on the page\n        const draggableSnippets = document.querySelectorAll('#oe_snippets .o_panel_body > .oe_snippet.ui-draggable > :nth-child(2)');\n        if (![...draggableSnippets].every(el => el.dataset.snippet)) {\n            console.error(\"error Some t-snippet are missing their template name\");\n        }\n        if (!document.querySelector('#oe_snippets [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error s_share t-called inside s_test_snip is missing template name\");\n        }\n        if (!document.querySelector('#wrap [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error Dropped a s_test_snip snippet but missing s_share template name in it\");\n        }\n    },\n}, {\n    content: \"Enter edit mode\",\n    trigger: 'button[data-action=\"save\"]',\n}, {\n    content: \"Enter edit mode\",\n    extra_trigger: 'body:not(.editor_enable)',\n    trigger: 'a[data-action=edit]',\n}, {\n    content: \"Modify the version of snippets\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet',\n    run: function () {\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_test_snip\"]').dataset.vjs = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_share\"]').dataset.vcss = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_text_image\"]').dataset.vxml = '999';\n    },\n}, {\n    content: \"Edit s_test_snip\",\n    trigger: '#wrap.o_editable .s_test_snip',\n}, {\n    content: \"Edit text_image\",\n    extra_trigger: 'we-customizeblock-options:contains(Test snip) .snippet-option-VersionControl > we-alert',\n    trigger: '#wrap.o_editable .s_text_image',\n}, {\n    content: \"Edit s_share\",\n    extra_trigger: 'we-customizeblock-options:contains(Text - Image) .snippet-option-VersionControl  > we-alert',\n    trigger: '#wrap.o_editable .s_share',\n}, {\n    content: \"s_share is outdated\",\n    extra_trigger: 'we-customizeblock-options:contains(Share) .snippet-option-VersionControl > we-alert',\n    trigger: 'body',\n}]);\n});\n", "odoo.define(\"website.tour.snippets_all_drag_and_drop\", async function (require) {\n\"use strict\";\n\nconst snippetsEditor = require('web_editor.snippet.editor');\n\nsnippetsEditor.SnippetEditor.include({\n    removeSnippet: async function (shouldRecordUndo = true) {\n        await this._super(...arguments);\n        $('body').attr('test-dd-snippet-removed', true);\n    },\n});\n\nconst tour = require(\"web_tour.tour\");\n\nlet snippetsNames = (new URL(document.location.href)).searchParams.get('snippets_names') || '';\nsnippetsNames = snippetsNames.split(',');\nlet steps = [];\nlet n = 0;\nfor (const snippet of snippetsNames) {\n    n++;\n    const snippetSteps = [{\n        content: `Drop ${snippet} snippet [${n}/${snippetsNames.length}]`,\n        trigger: `#oe_snippets .oe_snippet:has( > [data-snippet='${snippet}']) .oe_snippet_thumbnail`,\n        run: \"drag_and_drop #wrap\",\n    }, {\n        content: `Edit ${snippet} snippet`,\n        trigger: `#wrap.o_editable [data-snippet='${snippet}']`,\n    }, {\n        content: `check ${snippet} setting are loaded, wait panel is visible`,\n        trigger: \".o_we_customize_panel\",\n        run: function () {}, // it's a check\n    }, {\n        content: `Remove the ${snippet} snippet`, // Avoid bad perf if many snippets\n        trigger: \"we-button.oe_snippet_remove:last\"\n    }, {\n        content: `click on 'BLOCKS' tab (${snippet})`,\n        extra_trigger: 'body[test-dd-snippet-removed]',\n        trigger: \".o_we_add_snippet_btn\",\n        run: function (actions) {\n            $('body').removeAttr('test-dd-snippet-removed');\n            actions.auto();\n        },\n    }];\n\n    if (snippet === 's_google_map') {\n        snippetSteps.splice(1, 3, {\n            content: 'Close API Key popup',\n            trigger: \".modal-footer .btn-secondary\",\n        });\n    } else if (['s_popup', 's_newsletter_subscribe_popup'].includes(snippet)) {\n        snippetSteps[2]['in_modal'] = false;\n        snippetSteps.splice(3, 2, {\n            content: `Hide the ${snippet} popup`,\n            trigger: \".s_popup_close\",\n        });\n    }\n    steps = steps.concat(snippetSteps);\n}\n\ntour.register(\"snippets_all_drag_and_drop\", {\n    test: true,\n}, [\n    {\n        content: \"Ensure snippets are actually passed at the test.\",\n        trigger: \"body\",\n        run: function () {\n            // safety check, otherwise the test might \"break\" one day and\n            // receive no steps. The test would then not test anything anymore\n            // without us noticing it.\n            if (steps.length < 220) {\n                console.error(\"This test is not behaving as it should.\");\n            }\n        },\n    },\n    // This first step is needed as it will be used later for inner snippets\n    // Without this, it will dropped inside the footer and will need an extra\n    // selector.\n    {\n        content: \"Drop s_text_image snippet\",\n        trigger: \"#oe_snippets .oe_snippet:has( > [data-snippet='s_text_image']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop #wrap\"\n    },\n    {\n        content: \"Edit s_text_image snippet\",\n        trigger: \"#wrap.o_editable [data-snippet='s_text_image']\"\n    },\n    {\n        content: \"check setting are loaded, wait panel is visible\",\n        trigger: \".o_we_customize_panel\"\n    },\n    {\n        content: \"click on 'BLOCKS' tab\",\n        trigger: \".o_we_add_snippet_btn\"\n    },\n].concat(steps)\n);\n});\n", "odoo.define('website.tour.specific_website_editor', function (require) {\n'use strict';\n\nvar tour = require('web_tour.tour');\n\ntour.register('generic_website_editor', {\n    test: true,\n}, [{\n    trigger: 'a[data-action=edit]',\n    content: 'Click edit button',\n}, {\n    trigger: 'body:not([data-hello=\"world\"])',\n    extra_trigger: '#oe_snippets.o_loaded',\n    content: 'Check that the editor DOM matches its website-generic features',\n    run: function () {}, // Simple check\n}]);\n\ntour.register('specific_website_editor', {\n    test: true,\n}, [{\n    trigger: 'a[data-action=edit]',\n    content: 'Click edit button',\n}, {\n    trigger: 'body[data-hello=\"world\"]',\n    extra_trigger: '#oe_snippets.o_loaded',\n    content: 'Check that the editor DOM matches its website-specific features',\n    run: function () {}, // Simple check\n}]);\n});\n", "odoo.define('website.tour.form_editor', function (require) {\n    'use strict';\n\n    const rpc = require('web.rpc');\n    const tour = require(\"web_tour.tour\");\n\n    // Visibility possible values:\n    const VISIBLE = 'Always Visible';\n    const HIDDEN = 'Hidden';\n    const CONDITIONALVISIBILITY = 'Visible only if';\n\n    const selectButtonByText = function (text) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button:contains(\"${text}\")) we-toggler`,\n        },\n        {\n            content: \"Click on the option\",\n            trigger: `we-select we-button:contains(\"${text}\")`,\n        }];\n    };\n    const selectButtonByData = function (data) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button[${data}]) we-toggler`,\n        }, {\n            content: \"Click on the option\",\n            trigger: `we-select we-button[${data}]`,\n        }];\n    };\n    const addField = function (data, name, type, label, required, display = {visibility: VISIBLE, condition: ''}) {\n        const ret = [{\n            content: \"Select form\",\n            extra_trigger: '.s_website_form_field',\n            trigger: 'section.s_website_form',\n        }, {\n            content: \"Add field\",\n            trigger: 'we-button[data-add-field]',\n        },\n        ...selectButtonByData(data),\n        {\n            content: \"Wait for field to load\",\n            trigger: `.s_website_form_field[data-type=\"${name}\"], .s_website_form_input[name=\"${name}\"]`, //custom or existing field\n            run: function () {},\n        },\n        ...selectButtonByText(display.visibility),\n    ];\n        let testText = '.s_website_form_field';\n        if (display.condition) {\n            ret.push({\n                content: \"Set the visibility condition\",\n                trigger: 'we-input[data-attribute-name=\"visibilityCondition\"] input',\n                run: `text ${display.condition}`,\n            });\n        }\n        if (required) {\n            testText += '.s_website_form_required';\n            ret.push({\n                content: \"Mark the field as required\",\n                trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n            });\n        }\n        if (label) {\n            testText += `:has(label:contains(\"${label}\"))`;\n            ret.push({\n                content: \"Change the label text\",\n                trigger: 'we-input[data-set-label-text] input',\n                run: `text ${label}`,\n            });\n        }\n        if (type !== 'checkbox' && type !== 'radio' && type !== 'select') {\n            let inputType = type === 'textarea' ? type : `input[type=\"${type}\"]`;\n            testText += `:has(${inputType}[name=\"${name}\"]${required ? '[required]' : ''})`;\n        }\n        ret.push({\n            content: \"Check the resulting field\",\n            trigger: testText,\n            run: function () {},\n        });\n        return ret;\n    };\n    const addCustomField = function (name, type, label, required, display) {\n        return addField(`data-custom-field=\"${name}\"`, name, type, label, required, display);\n    };\n    const addExistingField = function (name, type, label, required, display) {\n        return addField(`data-existing-field=\"${name}\"`, name, type, label, required, display);\n    };\n\n    tour.register(\"website_form_editor_tour\", {\n        test: true,\n    }, [\n        // Drop a form builder snippet and configure it\n        {\n            content: \"Enter edit mode\",\n            trigger: 'a[data-action=edit]',\n        }, {\n            content: \"Drop the form snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_website_form) .oe_snippet_thumbnail',\n            run: 'drag_and_drop #wrap',\n        }, {\n            content: \"Select form by clicking on an input field\",\n            extra_trigger: '.s_website_form_field',\n            trigger: 'section.s_website_form input',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        }, {\n            content: \"Go back to blocks to unselect form\",\n            trigger: '.o_we_add_snippet_btn',\n        }, {\n            content: \"Select form by clicking on a text area\",\n            extra_trigger: '.s_website_form_field',\n            trigger: 'section.s_website_form textarea',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        }, {\n            content: \"Rename the field label\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text Renamed\",\n        }, {\n            content: \"Leave the rename options\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text_blur\",\n        }, {\n            content: \"Go back to blocks to unselect form\",\n            trigger: '.o_we_add_snippet_btn',\n        }, {\n            content: \"Select form itself (not a specific field)\",\n            extra_trigger: '.s_website_form_field',\n            trigger: 'section.s_website_form',\n        },\n        ...selectButtonByText('Send an E-mail'),\n        {\n            content: \"Form has a model name\",\n            trigger: 'section.s_website_form form[data-model_name=\"mail.mail\"]',\n        }, {\n            content: 'Edit the Phone Number field',\n            trigger: 'input[name=\"phone\"]',\n        }, {\n            content: 'Change the label position of the phone field',\n            trigger: 'we-button[data-select-label-position=\"right\"]',\n        },\n        ...addExistingField('email_cc', 'text', 'Test conditional visibility', false, {visibility: CONDITIONALVISIBILITY, condition: 'odoo'}),\n\n        ...addExistingField('date', 'text', 'Test Date', true),\n\n        ...addExistingField('record_name', 'text', 'Awesome Label', false, {visibility: HIDDEN}),\n\n        ...addExistingField('body_html', 'textarea', 'Your Message', true),\n\n        ...addExistingField('recipient_ids', 'checkbox'),\n\n        ...addCustomField('one2many', 'checkbox', 'Products', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Iphone',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Galaxy S',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Xperia',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change added Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Wiko Stairway',\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \".s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='horizontal'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n        ...selectButtonByData('data-multi-checkbox-display=\"vertical\"'),\n        {\n            content: \"Check the resulting field\",\n            trigger: \".s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='vertical'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n\n        ...addCustomField('selection', 'radio', 'Service', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text After-sales Service',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Invoicing Service',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Development Service',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Management Service',\n        }, {\n            content: \"Mark the field as not required\",\n            trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \".s_website_form_field.s_website_form_custom:not(.s_website_form_required)\" +\n                        \":has(.radio:has(label:contains('After-sales Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Invoicing Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Development Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Management Service')):has(input[type='radio']:not([required])))\",\n            run: function () {},\n        },\n\n        ...addCustomField('many2one', 'select', 'State', true),\n\n        // Customize custom selection field\n        {\n            content: \"Change Option 1 Label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Germany',\n        }, {\n            content: \"Change Option 2 Label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Belgium',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text France',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Canada',\n        }, {\n            content: \"Remove Germany Option\",\n            trigger: '.o_we_select_remove_option:eq(0)',\n        }, {\n            content: \"Check the resulting snippet\",\n            trigger: \".s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(label:contains('State'))\" +\n                        \":has(select[required]:hidden)\" +\n                        \":has(.s_website_form_select_item:contains('Belgium'))\" +\n                        \":has(.s_website_form_select_item:contains('France'))\" +\n                        \":has(.s_website_form_select_item:contains('Canada'))\" +\n                        \":not(:has(.s_website_form_select_item:contains('Germany')))\",\n            run: function () {},\n        },\n\n        ...addExistingField('attachment_ids', 'file', 'Invoice Scan'),\n\n        {\n            content: \"Insure the history step of the editor is not checking for unbreakable\",\n            trigger: '#wrapwrap',\n            run: () => {\n                const wysiwyg = $('#wrapwrap').data('wysiwyg');\n                wysiwyg.odooEditor.historyStep(true);\n            },\n        },\n        // Edit the submit button using linkDialog.\n        {\n            content: \"Click submit button to show edit popover\",\n            trigger: '.s_website_form_send',\n        }, {\n            content: \"Click on Edit Link in Popover\",\n            trigger: '.o_edit_menu_popover .o_we_edit_link',\n        }, {\n            content: \"Check that no URL field is suggested\",\n            trigger: '#toolbar:has(#url_row:hidden)',\n            run: () => null,\n        }, {\n            content: \"Change button's style\",\n            trigger: '.dropdown-toggle[data-original-title=\"Link Style\"]',\n            run: () => {\n                $('.dropdown-toggle[data-original-title=\"Link Style\"]').click();\n                $('[data-value=\"secondary\"]').click();\n                $('[data-original-title=\"Link Shape\"]').click();\n                $('[data-value=\"rounded-circle\"]').click();\n                $('[data-original-title=\"Link Size\"]').click();\n                $('[data-value=\"sm\"]').click();\n            },\n        }, {\n            content: \"Check the resulting button\",\n            trigger: '.s_website_form_send.btn.btn-sm.btn-secondary.rounded-circle',\n            run: () => null,\n        },\n        // Add a default value to a auto-fillable field.\n        {\n            content: 'Select the name field',\n            trigger: '.s_website_form_field:eq(0)',\n        }, {\n            content: 'Set a default value to the name field',\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: 'text John Smith',\n        },\n        {\n            content:  \"Save the page\",\n            trigger:  \"button[data-action=save]\",\n        },\n        {\n            content: 'Verify value attribute and property',\n            trigger: '.s_website_form_field:eq(0) input[value=\"John Smith\"]:propValue(\"Mitchell Admin\")',\n        },\n        {\n            content: 'Verify that phone field is still auto-fillable',\n            trigger: '.s_website_form_field input[data-fill-with=\"phone\"]:propValue(\"+1 555-555-5555\")',\n        },\n        // Check that if we edit again and save again the default value is not deleted.\n        {\n            content: 'Enter in edit mode again',\n            trigger: 'a[data-action=\"edit\"]',\n            run: 'click',\n        },\n        {\n            content: 'Edit the form',\n            trigger: '.s_website_form_field:eq(0) input',\n            extra_trigger: 'button[data-action=\"save\"]',\n            run: 'click',\n        },\n        ...addCustomField('many2one', 'select', 'Select Field', true),\n        {\n            content: 'Save the page',\n            trigger: 'button[data-action=save]',\n            run: 'click',\n        },\n        {\n            content: 'Verify that the value has not been deleted',\n            trigger: '.s_website_form_field:eq(0) input[value=\"John Smith\"]',\n        },\n        {\n            content: 'Enter in edit mode again',\n            trigger: 'a[data-action=\"edit\"]',\n            run: 'click',\n        },\n        {\n            content: 'Click on the submit button',\n            trigger: '.s_website_form_send',\n            extra_trigger: 'button[data-action=\"save\"]',\n            run: 'click',\n        },\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n        {\n            content: 'Save the page',\n            trigger: 'button[data-action=save]',\n            run: 'click',\n        },\n        {\n            content: 'Verify that the recipient email has been saved',\n            trigger: 'body:not(.editor_enable)',\n            // We have to this that way because the input type = hidden.\n            extra_trigger: 'form:has(input[name=\"email_to\"][value=\"test@test.test\"])',\n        },\n    ]);\n\n    tour.register(\"website_form_editor_tour_submit\", {\n        test: true,\n    },[\n        {\n            content:  \"Try to send the form with some required fields not filled in\",\n            extra_trigger:  \"form[data-model_name='mail.mail']\" +\n                            \"[data-success-page='/contactus-thank-you']\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Name')):has(input[type='text'][name='name'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Email')):has(input[type='email'][name='email_from'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Question')):has(textarea[name='description'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Subject')):has(input[type='text'][name='subject'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Test Date')):has(input[type='text'][name='date'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Awesome Label')):hidden)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Message')):has(textarea[name='body_html'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Iphone'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Galaxy S'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Xperia'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Wiko Stairway'][required]))\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='After-sales Service']:not([required])))\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Invoicing Service']:not([required])))\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Development Service']:not([required])))\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Management Service']:not([required])))\" +\n                            \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Belgium'])))\" +\n                            \":has(.s_website_form_field.s_website_form_required:has(label:contains('State')):has(select[name='State'][required]:has(option[value='France'])))\" +\n                            \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Canada'])))\" +\n                            \":has(.s_website_form_field:has(label:contains('Invoice Scan')))\" +\n                            \":has(.s_website_form_field:has(input[name='email_to'][value='test@test.test']))\",\n            trigger:  \".s_website_form_send\"\n        },\n        {\n            content:  \"Check if required fields were detected and complete the Subject field\",\n            extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Subject')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n            trigger:  \"input[name=subject]\",\n            run:      \"text Jane Smith\"\n        },\n        {\n            content:  \"Update required field status by trying to Send again\",\n            trigger:  \".s_website_form_send\"\n        },\n        {\n            content:  \"Check if required fields were detected and complete the Message field\",\n            extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n            trigger:  \"textarea[name=body_html]\",\n            run:      \"text A useless message\"\n        },\n        {\n            content:  \"Update required field status by trying to Send again\",\n            trigger:  \".s_website_form_send\"\n        },\n        {\n            content:  \"Check if required fields was detected and check a product. If this fails, you probably broke the cleanForSave.\",\n            extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Your Message')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                            \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                            \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n            trigger:  \"input[name=Products][value='Wiko Stairway']\"\n        },\n        {\n            content:  \"Complete Date field\",\n            trigger:  \".s_website_form_datetime [data-toggle='datetimepicker']\",\n        },\n        {\n            content:  \"Check another product\",\n            trigger:  \"input[name='Products'][value='Xperia']\"\n        },\n        {\n            content:  \"Check a service\",\n            trigger:  \"input[name='Service'][value='Development Service']\"\n        },\n        {\n            content:  \"Complete Your Name field\",\n            trigger:  \"input[name='name']\",\n            run:      \"text chhagan\"\n        },\n        {\n            content:  \"Complete Email field\",\n            trigger:  \"input[name=email_from]\",\n            run:      \"text test@mail.com\"\n        },\n        {\n            content: \"Complete Subject field\",\n            trigger: 'input[name=\"subject\"]',\n            run: 'text subject',\n        },\n        {\n            content:  \"Complete Your Question field\",\n            trigger:  \"textarea[name='description']\",\n            run:      \"text magan\"\n        },\n        {\n            content: \"Check if conditional field is visible, it shouldn't.\",\n            trigger: \"body\",\n            run: function () {\n                const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_website_form_field_hidden_if')[0]);\n                if (style.display !== 'none') {\n                    console.error('error This field should be invisible when the name is not odoo');\n                }\n            }\n        },\n        {\n            content: \"Change name input\",\n            trigger: \"input[name='name']\",\n            run: \"text odoo\",\n        },\n        {\n            content: \"Check if conditional field is visible, it should.\",\n            trigger: \"input[name='email_cc']\",\n        },\n        {\n            content:  \"Send the form\",\n            trigger:  \".s_website_form_send\"\n        },\n        {\n            content:  \"Check form is submitted without errors\",\n            trigger:  \"#wrap:has(h1:contains('Thank You!'))\"\n        }\n    ]);\n\n    tour.register(\"website_form_editor_tour_results\", {\n        test: true,\n    }, [\n        {\n            content: \"Check mail.mail records have been created\",\n            trigger: \"body\",\n            run: function () {\n                var mailDef = rpc.query({\n                        model: 'mail.mail',\n                        method: 'search_count',\n                        args: [[\n                            ['email_to', '=', 'test@test.test'],\n                            ['body_html', 'like', 'A useless message'],\n                            ['body_html', 'like', 'Service : Development Service'],\n                            ['body_html', 'like', 'State : Belgium'],\n                            ['body_html', 'like', 'Products : Xperia,Wiko Stairway']\n                        ]],\n                    });\n                var success = function(model, count) {\n                    if (count > 0) {\n                        $('body').append('<div id=\"website_form_editor_success_test_tour_'+model+'\"></div>');\n                    }\n                };\n                mailDef.then(_.bind(success, this, 'mail_mail'));\n            }\n        },\n        {\n            content:  \"Check mail.mail records have been created\",\n            trigger:  \"#website_form_editor_success_test_tour_mail_mail\"\n        }\n    ]);\n\n    function editContactUs(steps) {\n        return [\n            {\n                content: \"Enter edit mode\",\n                trigger: 'a[data-action=edit]',\n            }, {\n                content: \"Select the contact us form by clicking on an input field\",\n                trigger: '.s_website_form input',\n                extra_trigger: '#oe_snippets .oe_snippet_thumbnail',\n                run: 'click',\n            },\n            ...steps,\n            {\n                content: 'Save the page',\n                trigger: 'button[data-action=save]',\n            },\n            {\n                content: 'Wait for reload',\n                trigger: 'body:not(.editor_enable)',\n            },\n        ];\n    }\n\n    tour.register('website_form_contactus_edition_with_email', {\n        test: true,\n        url: '/contactus',\n    }, editContactUs([\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n    ]));\n    tour.register('website_form_contactus_edition_no_email', {\n        test: true,\n        url: '/contactus',\n    }, editContactUs([\n        {\n            content: \"Change a random option\",\n            trigger: '[data-set-mark] input',\n            run: 'text_blur **',\n        },\n    ]));\n    tour.register('website_form_contactus_submit', {\n        test: true,\n        url: '/contactus',\n    }, [\n        // As the demo portal user, only two inputs needs to be filled to send\n        // the email\n        {\n            content: \"Fill in the subject\",\n            trigger: 'input[name=\"subject\"]',\n        },\n        {\n            content: 'Fill in the message',\n            trigger: 'textarea[name=\"description\"]',\n        },\n        {\n            content: 'Send the form',\n            trigger: '.s_website_form_send',\n        },\n        {\n            content: 'Check form is submitted without errors',\n            trigger: '#wrap:has(h1:contains(\"Thank You!\"))',\n        },\n    ]);\n\n    return {};\n});\n", "odoo.define(\"website.tour.website_navbar_menu\", function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register(\"website_navbar_menu\", {\n    test: true,\n    url: \"/\",\n}, [\n    {\n        content: \"Ensure menus are in DOM\",\n        trigger: '#top_menu .nav-item a:contains(\"Test Tour Menu\")',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Ensure menus loading is done (so they are actually visible)\",\n        trigger: 'body:not(:has(.o_menu_loading))',\n        run: function () {}, // it's a check\n    }\n]);\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\ntour.register(\"website_page_options\", {\n    test: true,\n    url: \"/?enable_editor=1\",\n}, [\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"transparent\"]'),\n    // It's important to test saving right after changing that option only as\n    // this is why this test was made in the first place: the page was not\n    // marked as dirty when that option was the only one that was changed.\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is transparent\",\n        trigger: '#wrapwrap.o_header_overlay',\n        run: () => null, // it's a check\n    },\n    wTourUtils.clickOnEdit(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('topMenuColor', 'we-select.o_we_so_color_palette'),\n    wTourUtils.changeOption('topMenuColor', 'button[data-color=\"black-50\"]'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is in black-50\",\n        trigger: 'header#top.bg-black-50',\n        run: () => null, // it's a check\n    },\n    wTourUtils.clickOnEdit(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"hidden\"]'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is hidden\",\n        trigger: '#wrapwrap:has(header#top.d-none.o_snippet_invisible)',\n        run: () => null, // it's a check\n    },\n    wTourUtils.clickOnEdit(),\n    {\n        content: \"Click on 'header' in the invisible elements list\",\n        extra_trigger: '#oe_snippets.o_loaded',\n        trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    },\n    wTourUtils.clickOnSnippet({id: 'o_footer', name: 'Footer'}),\n    wTourUtils.changeOption('HideFooter', 'we-button[data-name=\"hide_footer_page_opt\"] we-checkbox'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the footer is hidden and the header is visible\",\n        trigger: '#wrapwrap:has(.o_footer.d-none.o_snippet_invisible)',\n        extra_trigger: '#wrapwrap header#top:not(.d-none)',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\nimport wTourUtils from 'website.tour_utils';\n\ntour.register(\"website_snippets_menu_tabs\", {\n    test: true,\n    url: \"/?enable_editor=1\",\n}, [\n    wTourUtils.goToTheme(),\n    {\n        content: \"Click on the empty 'DRAG BUILDING BLOCKS HERE' area.\",\n        extra_trigger: 'we-customizeblock-option.snippet-option-ThemeColors',\n        trigger: 'main > .oe_structure.oe_empty',\n        run: 'click',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Click on the style tab.\",\n        trigger: '#snippets_menu .o_we_customize_snippet_btn',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n]);\n", "odoo.define(\"website.tour.website_style_edition\", function (require) {\n\"use strict\";\n\nconst tour = require(\"web_tour.tour\");\n\nconst TARGET_FONT_SIZE = 30;\n\ntour.register(\"website_style_edition\", {\n    test: true,\n    url: \"/\",\n}, [{\n    content: \"Enter edit mode\",\n    trigger: 'a[data-action=edit]',\n}, {\n    content: \"Go to theme options\",\n    trigger: '.o_we_customize_theme_btn',\n}, {\n    content: \"Change font size\",\n    trigger: '[data-variable=\"font-size-base\"] input',\n    run: `text_blur ${TARGET_FONT_SIZE}`,\n}, {\n    content: \"Save\",\n    trigger: '[data-action=\"save\"]',\n}, {\n    content: \"Check the font size was properly adapted\",\n    trigger: 'body:not(.editor_enable) #wrapwrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0]);\n        if (style.fontSize !== `${TARGET_FONT_SIZE}px`) {\n            console.error(`Expected the font-size to be equal to ${TARGET_FONT_SIZE}px but found ${style.fontSize} instead`);\n        }\n    },\n}]);\n});\n", "odoo.define('website_crm.tour', function(require) {\n    'use strict';\n\n    var tour = require('web_tour.tour');\n\n    tour.register('website_crm_pre_tour', {\n        test: true,\n        url: '/contactus?enable_editor=1',\n    }, [{\n        content: \"Select contact form\",\n        trigger: \"#wrap.o_editable section.s_website_form\",\n        extra_trigger: \"body.editor_enable\",\n    }, {\n        content: \"Open action select\",\n        trigger: \"we-select:has(we-button:contains('Create an Opportunity')) we-toggler\",\n        extra_trigger: \"#oe_snippets .o_we_customize_snippet_btn.active\",\n    }, {\n        content: \"Select 'Create an Opportunity' as form action\",\n        trigger: \"we-select we-button:contains('Create an Opportunity')\",\n    }, {\n        content: \"Save the settings\",\n        trigger: \"button[data-action=save]\",\n    }, {\n        content: \"Ensure form model has changed and page reload is done after save\",\n        trigger: \"section.s_website_form form[data-model_name='crm.lead']\",\n        extra_trigger: \"a[data-action=edit]\",\n    }]);\n\n    tour.register('website_crm_tour', {\n        test: true,\n        url: '/contactus',\n    }, [{\n        content: \"Complete name\",\n        trigger: \"input[name=contact_name]\",\n        run: \"text John Smith\",\n    }, {\n        content: \"Complete phone number\",\n        trigger: \"input[name=phone]\",\n        run: \"text +32 485 118.218\"\n    }, {\n        content: \"Complete Email\",\n        trigger: \"input[name=email_from]\",\n        run: \"text john@smith.com\"\n    }, {\n        content: \"Complete Company\",\n        trigger: \"input[name=partner_name]\",\n        run: \"text Odoo S.A.\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"input[name=name]\",\n        run: \"text Useless message\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"textarea[name=description]\",\n        run: \"text ### TOUR DATA ###\"\n    }, {\n        content: \"Send the form\",\n        trigger: \".s_website_form_send\"\n    }, {\n        content: \"Check we were redirected to the success page\",\n        trigger: \"#wrap:has(h1:contains('Thank You!'))\"\n    }]);\n\n    tour.register('website_crm_catch_logged_partner_info_tour', {\n        test: true,\n        url: '/contactus',\n    }, [{\n        content: \"Complete Subject\",\n        trigger: \"input[name=name]\",\n        run: \"text Useless subject\"\n    }, {\n        content: \"Complete Subject\",\n        trigger: \"textarea[name=description]\",\n        run: \"text ### TOUR DATA PREFILL ###\"\n    }, {\n        content: \"Send the form\",\n        trigger: \".s_website_form_send\"\n    }, {\n        content: \"Check we were redirected to the success page\",\n        trigger: \"#wrap:has(h1:contains('Thank You!'))\"\n    }]);\n\n    return {};\n});\n", "odoo.define('auth_totp.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst ajax = require('web.ajax');\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            $('body').addClass('wait');\n            window.location = '/web';\n        }\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n        run() {}\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .oe_topbar_name',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\ntour.register('totp_tour_setup', {\n    test: true,\n    url: '/web'\n}, [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text demo', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"When requested to do so\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run(helpers) {\n        const $secret = this.$anchor.closest('div').find('span[name=secret]');\n        const $copyBtn = $secret.find('button');\n        $copyBtn.remove();\n        const secret = $secret.text();\n        ajax.jsonRpc('/totphook', 'call', {\n            secret\n        }).then((token) => {\n            helpers._text(helpers._get_action_values('input[name=code]'), token);\n            helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n            $('body').addClass('got-token')\n        });\n    }\n}, {\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n    run() {}\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Check that the button has changed\",\n    trigger: 'button[name=action_totp_disable]',\n    run: () => {}\n}]);\n\ntour.register('totp_login_enabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run(helpers) {\n        ajax.jsonRpc('/totphook', 'call', {}).then((token) => {\n            helpers._text(helpers._get_action_values(), token);\n            // FIXME: is there a way to put the button as its own step trigger without\n            //        the tour straight blowing through and not waiting for this?\n            helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n        });\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: () => {}\n}]);\n\ntour.register('totp_login_device', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run(helpers) {\n        ajax.jsonRpc('/totphook', 'call', {}).then((token) => {\n            helpers._text(helpers._get_action_values(), token);\n            // FIXME: is there a way to put the button as its own step trigger without\n            //        the tour straight blowing through and not waiting for this?\n            helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n        });\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)'\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .oe_topbar_name\",\n    run: () => {}\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_disable]',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text demo', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Check that the button has changed\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n    run: () => {}\n}]);\n\ntour.register('totp_login_disabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n]);\n\nconst columns = {};\ntour.register('totp_admin_disables', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n    run: () => {}\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run: function (helpers) {\n        // funny story: the users view we're trying to reach, sometimes we're\n        // already there, but if we re-click the next step executes before the\n        // action has the time to re-load, the one after that doesn't, and our\n        // selection get discarded by the action reloading, so here try to\n        // see if we're already on the users action through the breadcrumb and\n        // just close the menu if so\n        const $crumb = $('.breadcrumb');\n        if ($crumb.text().indexOf('Users') === -1) {\n            // on general settings page, click menu\n            helpers.click();\n        } else {\n            // else close menu\n            helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n        }\n    }\n}, {\n    content: \"Find Demo User\",\n    trigger: 'td.o_data_cell:contains(\"demo\")',\n    run: function (helpers) {\n        const $titles = this.$anchor.closest('table').find('tr:first th');\n        for (let i=0; i<$titles.length; ++i) {\n            columns[$titles[i].getAttribute('data-name')] = i;\n        }\n        const $row = this.$anchor.closest('tr');\n        const sel = $row.find('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")'\n}, {\n    content: \"Select totp remover\",\n    trigger: 'a.dropdown-item:contains(Disable two-factor authentication)'\n}, { // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode\",\ntrigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text admin', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that demo user has been de-totp'd\",\n    trigger: \"button[name=action_totp_enable_wizard]\",\n}])\n});\n", "odoo.define('auth_totp_mail.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\n\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .oe_topbar_name',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n        run: () => {}\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const $crumb = $('.breadcrumb');\n            if ($crumb.text().indexOf('Users') === -1) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n            }\n        }\n    }];\n}\n\ntour.register('totp_admin_self_invite', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that user cannot invite himself to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        var $inviteBtn = $('button:contains(Invite to use 2FA)');\n        if ($inviteBtn.hasClass('o_invisible_modifier')) {\n            $('body').addClass('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\"\n}]);\n\ntour.register('totp_admin_invite', {\n    test: true,\n    url: '/web'\n}, [tour.stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that demo user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]);\n\n});", "odoo.define('auth_totp_portal.tours', function(require) {\n\"use strict\";\n\nconst tour = require('web_tour.tour');\nconst ajax = require('web.ajax');\n\ntour.register('totportal_tour_setup', {\n    test: true,\n    url: '/my/security'\n}, [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run: async function(helpers) {\n        const secret = this.$anchor.closest('div').find('span[name=\"secret\"]').text();\n        const token = await ajax.jsonRpc('/totphook', 'call', {\n            secret\n        });\n        helpers._text(helpers._get_action_values('input[name=code]'), token);\n        helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n    }\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n    run: () => {}\n}]);\n\ntour.register('totportal_login_enabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await ajax.jsonRpc('/totphook', 'call', {});\n        helpers._text(helpers._get_action_values(), token);\n        // FIXME: is there a way to put the button as its own step trigger without\n        //        the tour straight blowing through and not waiting for this?\n        helpers._click(helpers._get_action_values('button:contains(\"Login\")'));\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n    run: () => {}\n}]);\n\ntour.register('totportal_login_disabled', {\n    test: true,\n    url: '/'\n}, [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}]);\n});\n"], "file": "/web/assets/884-cb8d947/1/web.assets_tests.js", "sourceRoot": "../../../../"}